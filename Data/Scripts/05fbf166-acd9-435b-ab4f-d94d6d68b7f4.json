{
    "type": "script",
    "id": "05fbf166-acd9-435b-ab4f-d94d6d68b7f4",
    "name": "Interact with Old Chest",
    "sceneId": "cf64f464-f1cc-4cd9-8125-3d1c2d8d45f9",
    "propId": "eabc1254-eac9-4897-b23a-5538b66db669",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "76ecb689-f11e-436e-8fe6-53529ee56514",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.changeTags",
                    "id": "4f4057b6-4e82-42ff-843f-29212e21754a",
                    "scope": "target",
                    "scopeId": null,
                    "scopeFilterId": null,
                    "tagsToAdd": "locked",
                    "tagsToRemove": null
                },
                {
                    "type": "nodes.showMenu",
                    "id": "1fd2b87b-d5d7-4f6f-9409-85de80853a8d",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "6bb2dc0c-ec3d-4828-98be-0982c5477aa1",
                            "text": "Examine the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "7124e857-bf8d-4c5d-96db-de6507c9179c",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Let's see, the top suffers from dry rot, the bottom suffers from wet rot. All that is left of the metal is corroded and flaking rust. I can hardly see a keyhole in the lock for all the rust and goo on it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "3642ee60-af4e-47b6-ba22-a0364639b5db",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tagsToAdd": "examined",
                                    "tagsToRemove": null
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "4",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "5c7376d7-fddf-485c-bedf-de0a16f14d2a",
                            "text": "Pick Up the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "54e9fdea-0484-49a4-8ef3-3714a0f831e0",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It's rotten. It looks like it'll fall apart if I so much as look at it sideways.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "9392e5b5-7c02-4700-b1db-690f172e746d",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Not that I would do such a thing.",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "9aaf07d1-1835-4e10-84eb-9cf98841d6d0",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelDown",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "locked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "d3491afd-f2fa-4787-9d28-5c8895e1827c",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's locked, of course. The wood may be rotten and the metal rusted, but it's still sealed shut.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "0bb72945-d38a-4f1e-8a80-b1fd06292cbe",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "examined",
                                                    "tagsToRemove": null
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelUp",
                                    "wait": true
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "1ad73168-c43b-4902-a5e4-49aa55f996eb",
                            "text": "Pick the Lock",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "6d2b2025-05ee-47a5-9808-cf3e6898ee0d",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "I'll oil and clean the lock before I try to pick it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "312811f3-b22c-4992-bfc7-1aac3eca851c",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Okay, that's better. Now let's see if I can pick it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "id": "3a6fcd0f-5389-49ef-b70d-003f9db3707e",
                                    "type": "nodes.skillBranch",
                                    "skill": "Tool Use",
                                    "target": "50",
                                    "success": {
                                        "type": "nodes.block",
                                        "nodes": [
                                            {
                                                "type": "nodes.invokeScript",
                                                "id": "e792e5ba-a87f-4bbc-a46a-6a08ebd58a10",
                                                "scriptId": "f214e893-43e1-4ba8-bb48-5ad1177e61de",
                                                "entryPointId": "76ecb689-f11e-436e-8fe6-53529ee56514",
                                                "currentScope": "Scenes",
                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                "currentActorId": null,
                                                "currentStoryEventId": null,
                                                "currentPropId": null
                                            },
                                            {
                                                "type": "nodes.speak",
                                                "id": "f45a6118-6150-44f4-bd99-b3cc7077577a",
                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                "actorId2": null,
                                                "text": "Now let's see what's hidden inside this broken wreck of a chest...",
                                                "emotion": "1",
                                                "emotion2": "0",
                                                "device": "0",
                                                "device2": "0"
                                            },
                                            {
                                                "type": "nodes.playSoundEffect",
                                                "soundEffectName": "Open Chest Lid.wav",
                                                "wait": true
                                            },
                                            {
                                                "type": "nodes.branch",
                                                "sections": [
                                                    {
                                                        "type": "nodes.branchSection",
                                                        "expression": {
                                                            "type": "expressions.or",
                                                            "left": {
                                                                "type": "expressions.inTags",
                                                                "scope": "script",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "item1_taken",
                                                                "has": false
                                                            },
                                                            "right": {
                                                                "type": "expressions.or",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item2_taken",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item3_taken",
                                                                    "has": false
                                                                }
                                                            }
                                                        },
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "efe62d96-d025-4cc3-963c-59e9a9cbd803",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "I can't believe somebody left all this nice stuff in here!",
                                                                "emotion": "1",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            },
                                                            {
                                                                "type": "nodes.showMenu",
                                                                "id": "93561404-7ba9-431f-9e58-89120e9f5e2d",
                                                                "options": [
                                                                    {
                                                                        "type": "options.text",
                                                                        "id": "1d8e5be4-5878-46dd-9ef5-d5c284f2ad21",
                                                                        "text": "Take Scaring",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.showCloseUp",
                                                                                "imageName": "CU_Scaring.png"
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "fac31c04-3dfd-4aac-94c6-de7267f7608c",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "Eww, there's something unpleasant about this ring. It feels... nasty.",
                                                                                "emotion": "4",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.branch",
                                                                                "sections": [
                                                                                    {
                                                                                        "type": "nodes.branchSection",
                                                                                        "expression": {
                                                                                            "type": "expressions.inTags",
                                                                                            "scope": "actor",
                                                                                            "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                            "scopeFilterId": null,
                                                                                            "tags": "SenseMagic",
                                                                                            "has": true
                                                                                        },
                                                                                        "nodes": [
                                                                                            {
                                                                                                "type": "nodes.playSoundEffect",
                                                                                                "soundEffectName": "magic_twinkle_loop.wav",
                                                                                                "wait": false
                                                                                            },
                                                                                            {
                                                                                                "type": "nodes.speak",
                                                                                                "id": "ad4d0158-8aca-4429-8da5-2a4285f26760",
                                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                                "actorId2": null,
                                                                                                "text": "There's definitely strong magic here. I get the impression of power, presence, and fear. Wearing this makes a person seem dangerous and fearsome.",
                                                                                                "emotion": "0",
                                                                                                "emotion2": "0",
                                                                                                "device": "0",
                                                                                                "device2": "0"
                                                                                            }
                                                                                        ]
                                                                                    },
                                                                                    {
                                                                                        "type": "nodes.branchSection",
                                                                                        "expression": null,
                                                                                        "nodes": [
                                                                                            {
                                                                                                "type": "nodes.speak",
                                                                                                "id": "9f094776-67b8-49b6-bb3d-332dab9115e5",
                                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                                "actorId2": null,
                                                                                                "text": "This ring has got to be magical, but I have no clue what sort of magic it is.",
                                                                                                "emotion": "0",
                                                                                                "emotion2": "0",
                                                                                                "device": "0",
                                                                                                "device2": "0"
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "nodes.hideCloseUp",
                                                                                "waitForSeconds": 1
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeInventory",
                                                                                "id": "f8ca720b-e40a-42ec-b19d-985c66e0a2e0",
                                                                                "propId": "8bee38a2-0310-405e-b28d-14a2b406fd5b",
                                                                                "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                "change": "1",
                                                                                "count": 1,
                                                                                "notify": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "a6f4d764-2b66-47a0-a502-1c55364a7bd5",
                                                                                "scope": "script",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToAdd": "item1_taken",
                                                                                "tagsToRemove": null
                                                                            }
                                                                        ],
                                                                        "expression": null,
                                                                        "ignoreChildAvailability": false,
                                                                        "minutes": 0,
                                                                        "ExitMenu": false
                                                                    },
                                                                    {
                                                                        "type": "options.text",
                                                                        "id": "e2e650b2-f962-4329-a19d-c03a053c57ee",
                                                                        "text": "Take Big Boom",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.showCloseUp",
                                                                                "imageName": "CU_BigBoom.png"
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "f440d672-a96e-4dce-a8b1-cfbcb3f2d14d",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "A Big Boom for my collection - I may have a use for that sometime.",
                                                                                "emotion": "0",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeInventory",
                                                                                "id": "a207e67a-e6f2-41b3-a3e2-a57566a4e1f2",
                                                                                "propId": "155838d4-c048-4ef4-bc68-1652a785e789",
                                                                                "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                "change": "1",
                                                                                "count": 1,
                                                                                "notify": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.hideCloseUp",
                                                                                "waitForSeconds": 1
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "20fdeab1-c3e3-46b2-85b3-7c2c790c5f95",
                                                                                "scope": "script",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToAdd": "item2_taken",
                                                                                "tagsToRemove": null
                                                                            }
                                                                        ],
                                                                        "expression": null,
                                                                        "ignoreChildAvailability": false,
                                                                        "minutes": 0,
                                                                        "ExitMenu": false
                                                                    },
                                                                    {
                                                                        "type": "options.text",
                                                                        "id": "08c063d7-dbba-4267-b366-df8b39de40ef",
                                                                        "text": "Take Lyra",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "1eb1675b-8666-439d-9d40-bd294a890e6b",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "Now there's eighteen more Lyra in my purse!",
                                                                                "emotion": "1",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeMoney",
                                                                                "id": "d7e0a1ea-b80f-4f91-a6f0-025e243a60d9",
                                                                                "amount": "18",
                                                                                "change": "1",
                                                                                "currency": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "6fa76400-0f2f-48c9-bb2b-a1d3a6374d35",
                                                                                "scope": "script",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToAdd": "item3_taken",
                                                                                "tagsToRemove": null
                                                                            }
                                                                        ],
                                                                        "expression": null,
                                                                        "ignoreChildAvailability": false,
                                                                        "minutes": 0,
                                                                        "ExitMenu": false
                                                                    }
                                                                ],
                                                                "AutoAddDone": true,
                                                                "Unique": false
                                                            },
                                                            {
                                                                "type": "nodes.branch",
                                                                "sections": [
                                                                    {
                                                                        "type": "nodes.branchSection",
                                                                        "expression": {
                                                                            "type": "expressions.and",
                                                                            "left": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "script",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item1_taken",
                                                                                "has": true
                                                                            },
                                                                            "right": {
                                                                                "type": "expressions.and",
                                                                                "left": {
                                                                                    "type": "expressions.inTags",
                                                                                    "scope": "script",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tags": "item2_taken",
                                                                                    "has": true
                                                                                },
                                                                                "right": {
                                                                                    "type": "expressions.inTags",
                                                                                    "scope": "script",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tags": "item3_taken",
                                                                                    "has": true
                                                                                }
                                                                            }
                                                                        },
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "3d1241b2-8630-4eae-b03f-9cda80744452",
                                                                                "scope": "prop",
                                                                                "scopeId": "eabc1254-eac9-4897-b23a-5538b66db669",
                                                                                "scopeFilterId": "cf64f464-f1cc-4cd9-8125-3d1c2d8d45f9",
                                                                                "tagsToAdd": "looted",
                                                                                "tagsToRemove": null
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "type": "nodes.playSoundEffect",
                                                                "soundEffectName": "Close Chest Lid.wav",
                                                                "wait": true
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "nodes.branchSection",
                                                        "expression": null,
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "29bd977a-564f-4b2c-b430-ce6d24cb567b",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "There's nothing left in here except a rotten old book, and it's crumbling to pieces. A sad ending to the story.",
                                                                "emotion": "2",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            },
                                                            {
                                                                "type": "nodes.playSoundEffect",
                                                                "soundEffectName": "Close Chest Lid.wav",
                                                                "wait": true
                                                            },
                                                            {
                                                                "type": "nodes.endScript"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    "failure": {
                                        "type": "nodes.block",
                                        "nodes": [
                                            {
                                                "type": "nodes.invokeScript",
                                                "id": "39834951-fd99-4d2a-a356-347e97c91e78",
                                                "scriptId": "c806f4c0-6bc6-471a-97ab-fc59190de6da",
                                                "entryPointId": "76ecb689-f11e-436e-8fe6-53529ee56514",
                                                "currentScope": "Scenes",
                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                "currentActorId": null,
                                                "currentStoryEventId": null,
                                                "currentPropId": null
                                            },
                                            {
                                                "type": "nodes.speak",
                                                "id": "327eebee-4320-457c-b723-8dbc5505cf80",
                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                "actorId2": null,
                                                "text": "I need more practice yet again.",
                                                "emotion": "2",
                                                "emotion2": "0",
                                                "device": "0",
                                                "device2": "0"
                                            },
                                            {
                                                "type": "nodes.endScript"
                                            }
                                        ]
                                    },
                                    "notify": true
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "target",
                                "scopeId": null,
                                "scopeFilterId": null,
                                "tags": "examined",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}