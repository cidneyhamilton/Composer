{
    "type": "script",
    "id": "11848440-4272-4cea-a214-c012a6244508",
    "name": "Interact with Catacombs_C_Chest",
    "sceneId": "8bcd4d6e-ac80-41f9-862b-e5fba80c4928",
    "propId": "61e538cb-2ac9-4f55-937f-ccfbc269ad56",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "a1b6238d-39ca-4067-958f-e4dbfb4ec389",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "732f247b-2fe0-4d50-af38-2fcf0b051bc1",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "9a43c161-1173-4609-86e4-6dfc5e49a6b9",
                            "text": "Examine the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "TookItAll",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "fdf2a066-dec8-4fbc-a2b6-ee00401b965b",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's pushed back so far into the corner, it's almost as if they didn't want anybody to find this chest and loot it.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "dcb7dc48-be70-42f9-8947-5498422c6d44",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's as empty as Terk's heart.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "3",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "eda7e230-8bbb-44ad-b7cf-7ef4919611a1",
                            "text": "Pick Up the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "7626b117-89eb-4a8c-904b-844b16795e33",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "I'd have to haul it out from behind that stalagmite first...",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f46589af-ef24-4b32-ad50-ea135064435c",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "... and what a drag <i>that</i> would be!",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "9f5335c2-bbbb-49d5-b85d-cb9a58ea8408",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "Locked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "ac38cddd-9dd8-4ebd-b769-bfc79cdc97b5",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's locked. Shocking, I know.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.variableComparison",
                                                                "variableScope": "global",
                                                                "variableName": "ego.haslockpick",
                                                                "operator": "eq",
                                                                "compareTo": "true",
                                                                "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                                                "propId": null
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "e668d062-fc5e-4ceb-8449-230c0a0bf309",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "I'm sure this won't be difficult...",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelDown",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "id": "083df27e-a697-4279-8483-68f947e53701",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Tool Use",
                                                                    "target": "45",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_success.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "9121e0f3-6f92-477f-a29c-288d731e800a",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "Bingo!",
                                                                                "emotion": "1",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "43beae95-688b-4a28-b417-9e695d0977c9",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToRemove": "locked"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_failure.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "d728ea07-59b8-4680-9a23-7dae6965e72b",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "My hand must've slipped. Yeah, let's go with that.",
                                                                                "emotion": "3",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelUp",
                                                                    "wait": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "5ca875ce-5710-4b14-9e3c-7c2bada59756",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "And me, without my lockpicks...",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.playSoundEffect",
                                                    "soundEffectName": "Heavy_Door_Unlock.wav",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.or",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.or",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": false
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": false
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "0c13c086-3ed0-4421-9ddc-41d21b7da5d7",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "To the victor go the spoils!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "93d30a32-517f-4036-8150-e43bdc764c25",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "And since Victor's not here, I'll take them!",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.showMenu",
                                                                    "id": "550ea48a-6569-4e0f-995b-95aa7152829b",
                                                                    "options": [
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "67e0de3b-6d5d-4c95-a76e-589f0614ce20",
                                                                            "text": "Take Fine Dagger",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "5be071b5-2aee-429f-9281-3ce4c00af824",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "Eh, this dagger is nice, but it's clearly not magical. I probably should just sell it for some Lyra.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "814f5583-98df-4f84-8770-9e4cef7bf5bf",
                                                                                    "propId": "f84a00b4-8d39-4a38-8aef-6835d300f36e",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "1",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "c25dcc18-1014-40c7-9062-c9e88b69e4de",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item1_taken",
                                                                                    "tagsToRemove": null
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item1_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "5",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "dfd166fb-6aac-4896-8aab-941cf3b96ce6",
                                                                            "text": "Take the Wine Bottle",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.showCloseUp",
                                                                                    "imageName": "CU_GoldenWine.png"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "1378cba8-de3e-4f0c-958b-fd6cc7011327",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "Ah, there's a bottle of Golden Wine here. Looks like it's still good.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "ef2f4d60-ef9d-40c8-a323-95b7d0bdfadb",
                                                                                    "propId": "91aa49b0-490a-4448-967d-d97387a985bb",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "1",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "f05040bc-7038-4940-a50b-7692a5392815",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item2_taken",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.hideCloseUp",
                                                                                    "waitForSeconds": 1
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item2_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "5",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "9e9c50b2-ffc5-435c-a8b3-dff33ea62bcf",
                                                                            "text": "Take Lyra",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "c4394ded-02de-48b6-93ff-d19cfb4c5ce0",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "And they even left a few coins for me to add to my purse...",
                                                                                    "emotion": "1",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeMoney",
                                                                                    "id": "295467b2-1114-485c-9613-c58d61bacc40",
                                                                                    "amount": "10",
                                                                                    "change": "1",
                                                                                    "currency": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "41ca803b-0482-4069-a9d1-a0c8e6b1c700",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item3_taken",
                                                                                    "tagsToRemove": null
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item3_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "5",
                                                                            "ExitMenu": false
                                                                        }
                                                                    ],
                                                                    "AutoAddDone": true,
                                                                    "Unique": false
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "f5bd11ce-471c-43b2-9b39-da2da57601bb",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "There's nothing left inside. I was very thorough.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": true
                                                                },
                                                                "right": {
                                                                    "type": "expressions.and",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": true
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": true
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "e91cc495-9fe0-42bf-bd18-35e2fc63315a",
                                                                    "scope": "prop",
                                                                    "scopeId": "61e538cb-2ac9-4f55-937f-ccfbc269ad56",
                                                                    "scopeFilterId": "8bcd4d6e-ac80-41f9-862b-e5fba80c4928",
                                                                    "tagsToAdd": "looted,TookItAll",
                                                                    "tagsToRemove": null
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "feb8f2a6-9d06-4fe5-8d8f-118cc0fc3e5b",
                            "text": "Sense Magic on the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "93751d55-654e-43ce-87d0-2848f39ac55b",
                                    "scriptId": "533e1ce1-13d3-439f-8544-dbdf808d30c4",
                                    "entryPointId": "a1b6238d-39ca-4067-958f-e4dbfb4ec389",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "73d524ac-f897-46e4-b148-26254a48f047",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It couldn't possibly be any less magical.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}