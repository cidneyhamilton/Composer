{
    "type": "script",
    "id": "2cba2c8e-b69b-429e-9278-7966b6296701",
    "name": "Interact with the Treasure Chest",
    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
    "propId": "dd8c03cd-cbb2-433c-86b5-7f296c307c46",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "6834a3d3-ec63-410c-961b-7c13a16172e1",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "bd5bd66f-6215-4e6c-8821-f6a5498b6cb5",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "43774657-3934-48ad-9a96-9d5170c8bedb",
                            "text": "Look at the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "a2cb754b-5a30-4440-8032-e79dc8d59a74",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "How careless of the Gogs to leave this around where someone like me might find it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "b17833f8-4475-4384-95b2-30b6ff56854f",
                            "text": "Pick Up the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "acfafe62-3ca9-4bff-b49f-4fec527f9790",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "There's no need to pick it up. As I told my first girlfriend, chests don't interest me, it's what inside that counts.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "904a317a-1cdc-4cc2-b141-123f4013a80c",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelDown",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "Open Chest Lid.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.or",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "script",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "item1_taken",
                                                    "has": false
                                                },
                                                "right": {
                                                    "type": "expressions.or",
                                                    "left": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item2_taken",
                                                        "has": false
                                                    },
                                                    "right": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item3_taken",
                                                        "has": false
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "248f9dbd-6123-4466-bfbe-300395691b99",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Score!",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.showMenu",
                                                    "id": "1ef19d3d-d3f6-4520-809c-f9c1c1380043",
                                                    "options": [
                                                        {
                                                            "type": "options.text",
                                                            "id": "c7548810-f5ff-4ae3-b999-161cdb4daca0",
                                                            "text": "Take the Pill Bottle",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.showCloseUp",
                                                                    "imageName": "CU_HealingPills.png"
                                                                },
                                                                {
                                                                    "type": "nodes.changeInventory",
                                                                    "id": "9e769350-746f-4cb5-a238-46c306044e6c",
                                                                    "propId": "55629c55-2a14-49f6-8817-dc0a1e647494",
                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                    "change": "1",
                                                                    "count": "3",
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "5ff12d94-01ac-488b-a289-fad0f5719aaa",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "It's a bottle with Healing Pills in it.",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "c45a24c3-7884-409f-b7f5-9c7cab598524",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item1_taken",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.hideCloseUp",
                                                                    "waitForSeconds": 1
                                                                }
                                                            ],
                                                            "expression": null,
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        },
                                                        {
                                                            "type": "options.text",
                                                            "id": "245c42a8-9e5f-4fe8-8ff2-b872d2f863e6",
                                                            "text": "Take Geek Fire",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.showCloseUp",
                                                                    "imageName": "CU_GeekFire.png"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "bf70482d-0b1a-4f3d-85f3-201111211ae5",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Ah, this looks interesting... and dangerous!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeInventory",
                                                                    "id": "15ea3928-a324-4682-9e53-cb180d28ef46",
                                                                    "propId": "04e91032-1547-4067-9291-dbeeb978266d",
                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                    "change": "1",
                                                                    "count": 1,
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "5b8026fa-69f4-49ee-a7d6-b05fb5d206cd",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item2_taken",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.hideCloseUp",
                                                                    "waitForSeconds": 1
                                                                }
                                                            ],
                                                            "expression": null,
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        },
                                                        {
                                                            "type": "options.text",
                                                            "id": "62b0109e-6015-4916-8c88-4518f8ebe7a1",
                                                            "text": "Take Lyra",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "43cd96b2-1fee-46a7-84a3-3f659902ed6e",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "And twenty-five, no, twenty seven coins!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeMoney",
                                                                    "id": "67a0a7a5-9b0b-4c3e-83da-0a6535c41efd",
                                                                    "amount": "27",
                                                                    "change": "1",
                                                                    "currency": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "2acb8e5c-a61c-43e2-be00-620b4d774492",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item3_taken",
                                                                    "tagsToRemove": null
                                                                }
                                                            ],
                                                            "expression": null,
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        }
                                                    ],
                                                    "AutoAddDone": true,
                                                    "Unique": false
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "e1da7245-a663-4630-a1dd-f5021688ae04",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I've got all it has to give. And I'd love to see the look on the Gogs' faces when they find it empty.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "script",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "item1_taken",
                                                    "has": true
                                                },
                                                "right": {
                                                    "type": "expressions.and",
                                                    "left": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item2_taken",
                                                        "has": true
                                                    },
                                                    "right": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item3_taken",
                                                        "has": true
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "c85d05be-ad79-49c0-ac67-fc1fc1a1876d",
                                                    "scope": "prop",
                                                    "scopeId": "dd8c03cd-cbb2-433c-86b5-7f296c307c46",
                                                    "scopeFilterId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                    "tagsToAdd": "looted",
                                                    "tagsToRemove": null
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "Close Chest Lid.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelUp",
                                    "wait": true
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}