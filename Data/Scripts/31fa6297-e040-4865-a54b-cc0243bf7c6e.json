{
    "type": "script",
    "id": "31fa6297-e040-4865-a54b-cc0243bf7c6e",
    "name": "Interact Chest G",
    "sceneId": "e8606d3d-9743-4b44-a3b3-117a393b42ae",
    "propId": "95ed432b-b4cd-4d2a-9b21-c111e86e8810",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "d82609a3-0e79-402a-bfcb-0d275198fb45",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.onceDaily",
                    "id": "9e7bf548-e6ca-4ca1-a2a5-4083c764fbcb",
                    "nodes": [
                        {
                            "type": "nodes.changeTags",
                            "id": "66c9fc72-551d-4482-aa9e-134a8957238f",
                            "scope": "target",
                            "scopeId": "e8606d3d-9743-4b44-a3b3-117a393b42ae",
                            "scopeFilterId": null,
                            "tagsToAdd": "Locked",
                            "tagsToRemove": null
                        }
                    ]
                },
                {
                    "type": "nodes.showMenu",
                    "id": "0391a334-3580-4e31-a8da-b2adb315f51e",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "c8944876-6a1b-41ef-9df0-1579469f8991",
                            "text": "Examine the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "TookItAll",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "dafd0dab-30c0-40c4-ac4c-98d79ce3c27f",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Ah, another lovely chest full of unknown goodies.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "702db81e-81c5-4725-9e72-75dc0fa8f4af",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's just a sad, lonely, empty chest.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "d227cfe7-bb3e-48f2-8957-3e294cfac673",
                            "text": "Take the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "b2daec65-0732-424a-84fb-c01a4cbab89a",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Right. I'll just put this in my pocket. Oops, no pockets!",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "2152a3da-c0d2-43bb-90b0-d4bdb85f82a0",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": "e8606d3d-9743-4b44-a3b3-117a393b42ae",
                                                "scopeFilterId": null,
                                                "tags": "Locked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.variableComparison",
                                                                "variableScope": "global",
                                                                "variableName": "ego.haslockpick",
                                                                "operator": "eq",
                                                                "compareTo": "true",
                                                                "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                                                "propId": null
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "806470a9-8246-400a-b6fc-2d821c9acdb5",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Time to pick a little lock here.",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelDown",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "id": "8c7edde1-8cb7-4d06-abee-0f782a1a9a21",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Tool Use",
                                                                    "target": "55",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_success.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "17b2f73d-f228-4791-b1bb-9ebdcc0d12fa",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "There we go.",
                                                                                "emotion": "1",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "3094057b-886a-454b-9b8d-dfafe7342ae3",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToRemove": "locked"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_failure.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "efafaa7d-5d65-41e1-9f69-4e284af2927b",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "This lock is tougher than I thought.",
                                                                                "emotion": "3",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelUp",
                                                                    "wait": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "2468f20d-839d-412c-85a2-4d6da8f013bc",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Trouble is, I don't have anything suitable for that.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.or",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.or",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": false
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": false
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "cf4aa241-e251-4b2a-a1d5-bc02afea6609",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Now for the good part.",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.showMenu",
                                                                    "id": "8c283ca6-978b-43fa-8610-405f540358cd",
                                                                    "options": [
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "a9abe624-b96e-4638-8f77-b8d5cf5d9d50",
                                                                            "text": "Take the Cloak",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.showCloseUp",
                                                                                    "imageName": "CU_Cloaker.png"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.branch",
                                                                                    "sections": [
                                                                                        {
                                                                                            "type": "nodes.branchSection",
                                                                                            "expression": {
                                                                                                "type": "expressions.inInventory",
                                                                                                "propId": "7cc7ce55-6851-4417-ab9c-be1b43b7a4a7",
                                                                                                "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                                "has": false
                                                                                            },
                                                                                            "nodes": [
                                                                                                {
                                                                                                    "type": "nodes.speak",
                                                                                                    "id": "548d299d-10c8-440f-beb9-9966f6c49a71",
                                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                                    "actorId2": null,
                                                                                                    "text": "Lovely dark cloak and cowl - I could wear this to sneak around, terrorizing monsters like some shadowy avenger of justice.",
                                                                                                    "emotion": "1",
                                                                                                    "emotion2": "0",
                                                                                                    "device": "0",
                                                                                                    "device2": "0"
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "nodes.branchSection",
                                                                                            "expression": null,
                                                                                            "nodes": [
                                                                                                {
                                                                                                    "type": "nodes.speak",
                                                                                                    "id": "7347666d-ad6b-422d-9f66-e116b476c909",
                                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                                    "actorId2": null,
                                                                                                    "text": "Ah, it's another Cloaker. I'll bet that Fester will pay well for this.",
                                                                                                    "emotion": "0",
                                                                                                    "emotion2": "0",
                                                                                                    "device": "0",
                                                                                                    "device2": "0"
                                                                                                },
                                                                                                {
                                                                                                    "type": "nodes.speak",
                                                                                                    "id": "8f472cc8-3e17-42d3-a223-32eb510b604b",
                                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                                    "actorId2": null,
                                                                                                    "text": "Okay, well, maybe Fester won't pay a lot for this, but at least I can get some Lyra for it.",
                                                                                                    "emotion": "2",
                                                                                                    "emotion2": "0",
                                                                                                    "device": "0",
                                                                                                    "device2": "0"
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "5346639e-03d2-4208-9d9c-c8ac7fdc6b61",
                                                                                    "propId": "7cc7ce55-6851-4417-ab9c-be1b43b7a4a7",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "1",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "aaa2aa0c-920b-4038-8f18-0e4e51bf944c",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item1_taken",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.hideCloseUp",
                                                                                    "waitForSeconds": 1
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item1_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "3",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "b72ab599-a8a3-413e-a432-c39c0d728192",
                                                                            "text": "Take Golden Wine",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.showCloseUp",
                                                                                    "imageName": "CU_GoldenWine.png"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "0529fcc7-ad95-4973-852b-4f310c9a2f1c",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "A bottle of wine... all set for a night on the town.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "094e36ed-6864-4efe-af8b-7acb0a7254d2",
                                                                                    "propId": "91aa49b0-490a-4448-967d-d97387a985bb",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "1",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "f26d8a57-f4eb-48ee-a472-b051e18c15aa",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item2_taken",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.hideCloseUp",
                                                                                    "waitForSeconds": 1
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item2_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "3",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "67afc098-5789-4195-a144-857866281423",
                                                                            "text": "Take Lyra",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "7c0d8d8f-22ef-41ce-81ae-589254c4b865",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "And a whole lot of money to pay for a vacation. Looks like around 60 Lyra.",
                                                                                    "emotion": "1",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeMoney",
                                                                                    "id": "45915823-5753-4a1e-a486-13ab13396c21",
                                                                                    "amount": "60",
                                                                                    "change": "1",
                                                                                    "currency": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "64381ffb-1afe-402a-b612-c9c07fa8e9fb",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item3_taken",
                                                                                    "tagsToRemove": null
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item3_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "5",
                                                                            "ExitMenu": false
                                                                        }
                                                                    ],
                                                                    "AutoAddDone": true,
                                                                    "Unique": false
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "6ada919b-5463-424b-b515-fe9e944f9cd9",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "That's all she wrote.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": true
                                                                },
                                                                "right": {
                                                                    "type": "expressions.and",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": true
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": true
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "b8381d29-44e7-4bc2-8333-3f2bab794035",
                                                                    "scope": "prop",
                                                                    "scopeId": "95ed432b-b4cd-4d2a-9b21-c111e86e8810",
                                                                    "scopeFilterId": "e8606d3d-9743-4b44-a3b3-117a393b42ae",
                                                                    "tagsToAdd": "looted,TookItAll",
                                                                    "tagsToRemove": null
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "709f03a7-f71b-437e-8e67-4a8dfc878262",
                            "text": "Sense Magic on the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "2a6e2cc8-4c21-42d8-bb56-efd7fa14be33",
                                    "scriptId": "533e1ce1-13d3-439f-8544-dbdf808d30c4",
                                    "entryPointId": "b789c0c7-52c8-4529-a9dd-8490fd5b9c5e",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "3",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}