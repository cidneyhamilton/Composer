{
    "type": "script",
    "id": "43c4b5a2-e273-440f-a427-f94c90a363a6",
    "name": "Interact with Scratched Chest",
    "sceneId": "6ae292e5-a342-4b5a-990f-9dc95fb73dcf",
    "propId": "55a45a3e-6cfb-4c1a-82e4-9a740d3fee0e",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "0f0361b4-e585-4466-b502-05651404d660",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "fad5e579-5a52-4647-98a4-7e60214a6687",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "7c583547-a8b2-4a87-974b-5fd69b87877b",
                            "text": "Look at the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "4809fd88-aa53-482f-b584-f395f2c2fbae",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "There's nothing like a chest to fill you with the hope of sudden great wealth.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "ransacked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "893e4fa6-7532-4084-96b7-9ad125e2391b",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Of course, that's not exactly how this one worked out. But it wasn't empty, either.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "6abd3c21-667e-4528-b52d-09f4ce81d782",
                            "text": "Pick Up the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "0bb99ded-d82a-40ce-b4c2-9fe30a697ff3",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It's big and heavy, and I can't think of a reason to schlep it around with me.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "d6f14fa0-00f4-4d6b-9d85-47f913d29608",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Schlep MacInerny was this kid who always seemed tired and sullen, he always hated to get out of bed and had to drag himself from place to place. So we all got in the habit of calling it \"schlepping\" when we had to unwillingly drag something heavy somewhere.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f3c64e42-fef0-4809-bb78-98a58377d27d",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It was either that, or call it McInernying. But that was harder to say.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "8cdc74bc-92fa-4cbf-9d64-cbc96a091c16",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelDown",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "Open Chest Lid.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.or",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "script",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "item1_taken",
                                                    "has": false
                                                },
                                                "right": {
                                                    "type": "expressions.or",
                                                    "left": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item2_taken",
                                                        "has": false
                                                    },
                                                    "right": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item3_taken",
                                                        "has": false
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "4363c18f-54c1-44b8-9ed7-d7b78686b351",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Mine! I saw it all first!",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "f964cfc7-3d67-4f31-9922-6ffc4d1b037f",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Heh, it isn't even locked!",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "125b656f-0bbc-49f8-8586-8ec25f5f59c6",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Okay, it looks like there is a stack of bandages, some pills, and a potion. This must have be a First Aid kit.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.showMenu",
                                                    "id": "311719c3-2c65-4f80-897b-c3dfbb65fdea",
                                                    "options": [
                                                        {
                                                            "type": "options.text",
                                                            "id": "b6552225-528d-42df-9ab2-b279a4ecd6ab",
                                                            "text": "Take Bandages",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.showCloseUp",
                                                                    "imageName": "CU_MagicalBandages.png"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "ea7ff447-ca3a-424e-8837-0af2f472ee02",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Let's see... there's a couple of bandages here... Ah, they are the special ones!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeInventory",
                                                                    "id": "f5c966e0-cd19-4132-acc8-dbb25122abbb",
                                                                    "propId": "df614b92-e485-45b2-a6ad-be3ef31c0c9a",
                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                    "change": "1",
                                                                    "count": "2",
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "f561a348-006f-43af-86ea-6df53fde06ed",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item1_taken",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.hideCloseUp",
                                                                    "waitForSeconds": 1
                                                                }
                                                            ],
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "script",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "item1_taken",
                                                                "has": false
                                                            },
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        },
                                                        {
                                                            "type": "options.text",
                                                            "id": "7caf2461-9892-466a-be93-d9172ac0e08e",
                                                            "text": "Take the Pill Bottle",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.showCloseUp",
                                                                    "imageName": "CU_fitness.png"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "1b34a131-f3f9-4758-8a8a-c91069843d0d",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Some sort of pills... label says \"Fitness Pills.\"",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeInventory",
                                                                    "id": "556785c2-eb76-4f2e-a68c-0d7fdfb52837",
                                                                    "propId": "7ea0c967-4a05-44c5-b0b0-968433166d7e",
                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                    "change": "1",
                                                                    "count": "3",
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "3d09e1d5-8f95-4b03-9423-a42534664aa7",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item2_taken",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.hideCloseUp",
                                                                    "waitForSeconds": 1
                                                                }
                                                            ],
                                                            "expression": null,
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        },
                                                        {
                                                            "type": "options.text",
                                                            "id": "7641fa71-bc7b-40f2-a307-3b6f0fc5b3f0",
                                                            "text": "Take Potion Bottle",
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.showCloseUp",
                                                                    "imageName": "CU_FullHeal.png"
                                                                },
                                                                {
                                                                    "type": "nodes.changeInventory",
                                                                    "id": "9b9ae647-769b-46f2-a91c-b01d67b4a240",
                                                                    "propId": "5217bb29-859c-43ab-b4ab-a627ce7ef8e1",
                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                    "change": "1",
                                                                    "count": "1",
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "410efde2-c65e-43e8-8d7d-a5d8ea93ceab",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Nice - this isn't just <i>any</i> old potion bottle - this is a Full Heal potion!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "f7f10dfa-b5c0-4552-97a8-38c56335a87a",
                                                                    "scope": "script",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "item3_taken",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "f117616e-5d6a-4a55-993f-ab16fc79848a",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "ransacked",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.hideCloseUp",
                                                                    "waitForSeconds": 1
                                                                }
                                                            ],
                                                            "expression": null,
                                                            "ignoreChildAvailability": false,
                                                            "minutes": "2",
                                                            "ExitMenu": false
                                                        }
                                                    ],
                                                    "AutoAddDone": true,
                                                    "Unique": false
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "c4c81b5a-7c60-4e3d-8f60-c2c05ee4b1c5",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's empty. There's nothing sadder than an empty sea chest.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "e0f95510-640d-486f-8c48-40e9bee421a2",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I'd put something in it just to keep it from being so sad. But I like everything I've got.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "script",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "item1_taken",
                                                    "has": true
                                                },
                                                "right": {
                                                    "type": "expressions.and",
                                                    "left": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item2_taken",
                                                        "has": true
                                                    },
                                                    "right": {
                                                        "type": "expressions.inTags",
                                                        "scope": "script",
                                                        "scopeId": null,
                                                        "scopeFilterId": null,
                                                        "tags": "item3_taken",
                                                        "has": true
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "84a56df3-8198-459c-a2fe-6a13fd9abf0b",
                                                    "scope": "prop",
                                                    "scopeId": "55a45a3e-6cfb-4c1a-82e4-9a740d3fee0e",
                                                    "scopeFilterId": "6ae292e5-a342-4b5a-990f-9dc95fb73dcf",
                                                    "tagsToAdd": "looted",
                                                    "tagsToRemove": null
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "Close Chest Lid.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelUp",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.endScript"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}