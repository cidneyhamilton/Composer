{
    "type": "script",
    "id": "45894364-6f26-4668-af0b-543553e4b576",
    "name": "Interact with Shield",
    "sceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
    "propId": "35c654d0-1a2a-4e4a-adb1-1d6c878d22e9",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "5f8e10ee-2794-4aba-876f-8b3bba4d92ff",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "f6dbc59a-e000-49a4-a66c-b255174d54f1",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "653e59ed-50af-4064-8e0d-68a9247d086c",
                            "text": "Examine the Relief",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "496bda79-4c5e-4876-b6fd-af3bcb92297a",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It's a very intricate relief of a shield flanked by two knights. The words 'Keep Life True' are etched into the shield.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.variableComparison",
                                                    "variableScope": "global",
                                                    "variableName": "time.day",
                                                    "operator": "gte",
                                                    "compareTo": "14",
                                                    "sceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                                    "propId": null
                                                },
                                                "right": {
                                                    "type": "expressions.and",
                                                    "left": {
                                                        "type": "expressions.variableComparison",
                                                        "variableScope": "global",
                                                        "variableName": "time.day",
                                                        "operator": "lte",
                                                        "compareTo": "16",
                                                        "sceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                                        "propId": null
                                                    },
                                                    "right": {
                                                        "type": "expressions.variableComparison",
                                                        "variableScope": "global",
                                                        "variableName": "time.hour",
                                                        "operator": "lt",
                                                        "compareTo": "5",
                                                        "sceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                                        "propId": null
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "ef9630c5-1197-4015-82c8-91b292254729",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "There are sticky prints on some of the letters on the shield. The thief must have touched it.",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "FoundPuzzle",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.skillCheck",
                                                                "skill": "Perception",
                                                                "target": "35"
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "c801185a-c492-4d94-aec5-2b720b5abac9",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "It's made of stone, but there's something odd about it. The shield and letters weren't carved from the same rock. Each of the Letters look like they were carved separately.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.showMenu",
                                                                    "id": "3b9b79b4-adac-44d9-822c-693caac5be92",
                                                                    "options": [
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "98786038-5492-4fa4-8b2b-9a55bf8eefb0",
                                                                            "text": "Push the Letters",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.playAnimation",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "animationName": "ReachOut",
                                                                                    "wait": false
                                                                                },
                                                                                {
                                                                                    "type": "nodes.wait",
                                                                                    "waitForSeconds": "0.35"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "4455fea8-5344-4f88-9746-59b287fdf39f",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "FoundPuzzle",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.invokeScript",
                                                                                    "id": "52951ce1-7b40-4f02-93da-370a087ffb8c",
                                                                                    "scriptId": "46f50dc2-ab05-4df9-a4a8-bd582d7d1f5c",
                                                                                    "entryPointId": "",
                                                                                    "currentScope": "Scenes",
                                                                                    "currentSceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                                                                    "currentActorId": null,
                                                                                    "currentStoryEventId": null,
                                                                                    "currentPropId": null
                                                                                }
                                                                            ],
                                                                            "expression": null,
                                                                            "ignoreChildAvailability": true,
                                                                            "minutes": "5",
                                                                            "ExitMenu": true
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "848c618d-6a91-463c-abf7-b7686408a5d9",
                                                                            "text": "Leave it Alone",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "12f725ed-753a-4fa6-8bbe-dd1defc5cfed",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "I'm not going to mess around with it right now.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                }
                                                                            ],
                                                                            "expression": null,
                                                                            "ignoreChildAvailability": true,
                                                                            "minutes": "1",
                                                                            "ExitMenu": true
                                                                        }
                                                                    ],
                                                                    "AutoAddDone": false,
                                                                    "Unique": false
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "6f06ca74-60ba-4472-ab12-583c705a8fc2",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Something feels odd about it, but I can't quite place it.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "solved",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "37085947-6df0-4ce6-8bec-f692bf661863",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "The letters really are impressive, you can't even tell they are buttons from a distance.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "ff9bc126-c876-4691-9239-43ebaa0aea44",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Hiding a secret door behind those words is a little bit ironic, isn't it? The artist must have a sense of humor.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "3",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "9c566578-e800-44e2-beca-77ef1ec353c6",
                            "text": "Push the Letters",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "81ca45b9-af30-4231-bbfd-f8a45dc180be",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Let's see if I can figure out how to do this.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "a775bd85-f44a-441e-b7d9-9048b433442b",
                                    "scriptId": "46f50dc2-ab05-4df9-a4a8-bd582d7d1f5c",
                                    "entryPointId": "",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tags": "FoundPuzzle",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tags": "solved",
                                    "has": false
                                }
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "a3b6c819-719e-4981-b357-6825e816e480",
                            "text": "Move the Relief",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "8fef1f38-714b-4ade-b211-cfc86c0c0ec4",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "This relief is heavy... it doesn't move.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "3",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "d9ecd335-c093-4306-b2ad-2c136ba7f983",
                            "text": "Sense Magic on the Relief",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "26c78642-90f5-4daf-b86f-b6f708a64686",
                                    "scriptId": "b1c2ecc1-eb00-49ed-a7ba-ea6af625c355",
                                    "entryPointId": "5f8e10ee-2794-4aba-876f-8b3bba4d92ff",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "2cc2bb6a-c4b3-48f0-9a55-2bcc1812fa9d",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "There's a strong sensation of magic on this relief. I get the impression that it has something to do with closing and opening... And it seems somehow connected to light overcoming shadow.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "8143219e-edc5-42e7-ba04-13eb9d314f20",
                            "text": "Open the Passage",
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "6136b0fc-ce43-4aee-bffe-25dd73a1d831",
                                    "propId": "35c654d0-1a2a-4e4a-adb1-1d6c878d22e9",
                                    "sceneId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                    "status": "Opening",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changeScene",
                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                    "spawnId": "26a6eb14-6939-4f73-88ce-1f9be2aeb47d",
                                    "fadeTime": 2
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "prop",
                                "scopeId": "35c654d0-1a2a-4e4a-adb1-1d6c878d22e9",
                                "scopeFilterId": "96064b1c-7fee-41c6-ab46-b8425d3af2de",
                                "tags": "solved",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}