{
    "type": "script",
    "id": "753d708c-5a18-4a5e-91ec-cbff037e0a8f",
    "name": "Interact with Wardrobe",
    "sceneId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
    "propId": "f9097889-b2bd-439a-8536-5ab4810dfd15",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "7e4b593f-3b42-4a0f-9e5d-dfa8b172bff4",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                "scopeFilterId": null,
                                "tags": "GerhardRevealed",
                                "has": false
                            },
                            "nodes": [
                                {
                                    "type": "nodes.showMenu",
                                    "id": "2beb9e55-014e-41ed-8986-c024a97f0158",
                                    "options": [
                                        {
                                            "type": "options.text",
                                            "id": "dcf06276-cb53-4e33-84ec-b84da925e5e8",
                                            "text": "Examine the Cabinet",
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "scene",
                                                                    "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                    "scopeFilterId": null,
                                                                    "tags": "GerhardPresent",
                                                                    "has": true
                                                                },
                                                                "right": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "WardrobeExamined",
                                                                    "has": false
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "37abea0e-aabf-4446-9d48-5a743c11ec3d",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "text": "Nice looking wardrobe - was it made in Germania?",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "0a2730d9-c40e-45d6-bf42-372181a1a3f2",
                                                                    "actorId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "actorId2": null,
                                                                    "text": "Ja - it was made in the Schwarzwald, the Black Forest. It was good of you to recognize its quality.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "489d873e-807c-4846-9b57-a69ab20190a9",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "WardrobeExamined",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.changeReputation",
                                                                    "id": "f931c542-7030-49a0-952a-858c640d3c0f",
                                                                    "actorId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "amount": "1",
                                                                    "change": "1",
                                                                    "notify": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "scene",
                                                                    "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                    "scopeFilterId": null,
                                                                    "tags": "GerhardPresent",
                                                                    "has": true
                                                                },
                                                                "right": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "WardrobeExamined",
                                                                    "has": true
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "0329e90f-5666-4ad9-9944-958fe0470a71",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "text": "It clearly shows a high level of craftsmanship.",
                                                                    "emotion": "0",
                                                                    "emotion2": "1",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "prop",
                                                                "scopeId": "f9097889-b2bd-439a-8536-5ab4810dfd15",
                                                                "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                "tags": "locked",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "93f8bb86-6620-4226-8eb4-920ef7e7a5d9",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Looks like a Marlowe class lock... this might take a while to pick.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "32dd4a3e-3a19-45c9-a729-91b0b0cd84b7",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Such beautiful craftsmanship! Wish I had more time to appreciate it.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "expression": null,
                                            "ignoreChildAvailability": true,
                                            "minutes": 0,
                                            "ExitMenu": false
                                        },
                                        {
                                            "type": "options.text",
                                            "id": "83f514d8-1d02-42a6-94ff-6b7f70453a85",
                                            "text": "Open the Cabinet",
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "target",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "locked",
                                                                "has": false
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "cabinet_open.wav",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "f63fbd3a-2fb8-4738-b943-9db68e2e3cec",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Hmmm... there's an interesting collection of clothing, boots, and even different wigs in the wardrobe. Unfortunately, there's no sign of a Raven statue or anything useful.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "cabinet_open.wav",
                                                                    "wait": false
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "3ace5cf2-9af1-41c3-8058-61968873160e",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "It's locked, of course.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "scene",
                                                "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                "scopeFilterId": null,
                                                "tags": "GerhardPresent",
                                                "has": false
                                            },
                                            "ignoreChildAvailability": true,
                                            "minutes": 0,
                                            "ExitMenu": false
                                        },
                                        {
                                            "type": "options.text",
                                            "id": "0ad05b65-92f1-468e-aa6f-814fc1fa467c",
                                            "text": "Unlock the Cabinet",
                                            "nodes": [
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "ReachOut"
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inInventory",
                                                                "propId": "9660eaf9-ae37-4505-93e5-dcb351a96742",
                                                                "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "lockpick_success.wav",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "1c42dc06-7ecc-4d7a-a70f-90aebd10ddaa",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "The Magical Key fits... magically!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "e0895b13-efab-41d4-b310-ac0e33bf4dae",
                                                                    "scope": "prop",
                                                                    "scopeId": "f9097889-b2bd-439a-8536-5ab4810dfd15",
                                                                    "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                    "tagsToRemove": "locked"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "f8f0d40d-3d7c-41cd-a997-dd9d430286fa",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "This is a really difficult lock... Good thing I've practiced my skills.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "id": "146172f4-9fdf-42d3-ae3e-4b28527502cb",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Tool Use",
                                                                    "target": "85",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.invokeScript",
                                                                                "id": "629f2dac-1584-43a6-9b1e-1c7d1ba84a2a",
                                                                                "scriptId": "f214e893-43e1-4ba8-bb48-5ad1177e61de",
                                                                                "entryPointId": "7e4b593f-3b42-4a0f-9e5d-dfa8b172bff4",
                                                                                "currentScope": "Scenes",
                                                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                                                "currentActorId": null,
                                                                                "currentStoryEventId": null,
                                                                                "currentPropId": null
                                                                            }
                                                                        ]
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.invokeScript",
                                                                                "id": "8a8936d3-7f93-4462-8278-74baeb149378",
                                                                                "scriptId": "c806f4c0-6bc6-471a-97ab-fc59190de6da",
                                                                                "entryPointId": "7e4b593f-3b42-4a0f-9e5d-dfa8b172bff4",
                                                                                "currentScope": "Scenes",
                                                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                                                "currentActorId": null,
                                                                                "currentStoryEventId": null,
                                                                                "currentPropId": null
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "scene",
                                                    "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                    "scopeFilterId": null,
                                                    "tags": "GerhardPresent",
                                                    "has": false
                                                },
                                                "right": {
                                                    "type": "expressions.inTags",
                                                    "scope": "prop",
                                                    "scopeId": "f9097889-b2bd-439a-8536-5ab4810dfd15",
                                                    "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                    "tags": "locked",
                                                    "has": true
                                                }
                                            },
                                            "ignoreChildAvailability": true,
                                            "minutes": "10",
                                            "ExitMenu": false
                                        }
                                    ],
                                    "AutoAddDone": true,
                                    "Unique": false
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}