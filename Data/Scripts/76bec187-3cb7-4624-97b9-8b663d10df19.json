{
    "type": "script",
    "id": "76bec187-3cb7-4624-97b9-8b663d10df19",
    "name": "Arcanulet",
    "propId": "8cf4afa3-33f5-4e1f-9446-805424dd17ae",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "9ac74415-c424-439d-aed6-2135f0cbd791",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "2b0ef1b5-8984-4bbb-92b8-b85fc9a43fa2",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "ef0d1bd6-1e59-4d18-b2fd-0a3360ed10f0",
                            "text": "Examine the Violet Amulet",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.or",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "fromMagicClass",
                                                    "has": true
                                                },
                                                "right": {
                                                    "type": "expressions.inTags",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tags": "sensedMagic",
                                                    "has": true
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "c64b417c-a0a3-4460-a4be-3de18e8b9391",
                                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                                    "actorId2": null,
                                                    "text": "This magical Arcanulet absorbs magic. It provides some protection from magical spells.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "fromFence",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "7e144267-94f1-4b2e-a40f-ec26b97dc077",
                                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                                    "actorId2": null,
                                                    "text": "This amulet is supposed to provide some protection from magic.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.comment",
                                                    "message": "Found this in a chest and not yet identified",
                                                    "commentor": "(default)"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "469a16c9-c573-420b-9534-5d3aef3bfe75",
                                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                                    "actorId2": null,
                                                    "text": "This is a nice necklace with detailed work in polished stone. The dull red gem does the opposite of glow.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "0",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "4df3b2c4-83ff-4fe6-8679-bf6ba368a2b9",
                            "text": "Touch the Violet Amulet",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "0fcd79d6-c88e-46e6-b0a6-53681bcf56be",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "The sensation is the opposite of the tingling effect I get from magic. It's a very comforting feeling.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "0",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "aea0b76b-365b-4df5-8c11-4d9a7859f74b",
                            "text": "Cast Sense Magic on the Violet Amulet",
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "d91d1ae4-9979-4521-89fd-babef99bda71",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tagsToAdd": "sensedMagic",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "1ff71b1a-9bba-44ee-a75c-2d8d9d7447a5",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "That's weird. I feel like my spell was sucked into the gem of this amulet. This must be a magical protection amulet.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "0",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}