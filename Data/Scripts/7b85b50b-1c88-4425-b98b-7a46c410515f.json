{
    "type": "script",
    "id": "7b85b50b-1c88-4425-b98b-7a46c410515f",
    "name": "Zone Perceive False Wall",
    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
    "trigger": {
        "type": "triggers.zone",
        "name": "Zone"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "8f0c5914-092a-4c50-8c5a-771011c87b51",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.enteredScene",
                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                    "scope": "DuringGame",
                                    "operator": "eq",
                                    "count": 0
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.propStatus",
                                        "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                        "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                        "status": "Closed"
                                    },
                                    "right": {
                                        "type": "expressions.and",
                                        "left": {
                                            "type": "expressions.skillCheck",
                                            "skill": "Perception",
                                            "target": "45"
                                        },
                                        "right": {
                                            "type": "expressions.inTags",
                                            "scope": "scene",
                                            "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                            "scopeFilterId": null,
                                            "tags": "SecretDoor_ZoneTriggered",
                                            "has": false
                                        }
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "id": "7b4ad63d-8f24-448d-9ae7-3a2b72e029b1",
                                    "type": "nodes.skillBranch",
                                    "skill": "Perception",
                                    "target": "40",
                                    "success": {
                                        "type": "nodes.block",
                                        "nodes": []
                                    },
                                    "failure": {
                                        "type": "nodes.block",
                                        "nodes": []
                                    },
                                    "notify": true
                                },
                                {
                                    "type": "nodes.stopPlayer"
                                },
                                {
                                    "type": "nodes.turnActor",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                    "scope": "prop",
                                    "targetActorId": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f6221492-d195-4eaa-b8e1-9db4f72778c2",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Hmmm... Something's off about that wall...",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "9cab2ba5-d573-4ccf-801c-82fe4c0e0288",
                                    "scope": "scene",
                                    "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "SecretDoor_ZoneTriggered",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "91a0a34e-8211-47b1-90b5-c8f2a5e45f16",
                                    "propId": "1e82da76-5f18-4048-8f13-1c24489822c1",
                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "status": "Visible",
                                    "wait": false
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.enteredScene",
                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                    "scope": "DuringGame",
                                    "operator": "eq",
                                    "count": 0
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.propStatus",
                                        "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                        "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                        "status": "Closed"
                                    },
                                    "right": {
                                        "type": "expressions.and",
                                        "left": {
                                            "type": "expressions.inTags",
                                            "scope": "scene",
                                            "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                            "scopeFilterId": null,
                                            "tags": "SecretDoor_ZoneTriggered",
                                            "has": false
                                        },
                                        "right": {
                                            "type": "expressions.variableComparison",
                                            "variableScope": "global",
                                            "variableName": "time.day",
                                            "operator": "gte",
                                            "compareTo": "13",
                                            "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                            "propId": null
                                        }
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.or",
                                                "left": {
                                                    "type": "expressions.variableComparison",
                                                    "variableScope": "global",
                                                    "variableName": "time.day",
                                                    "operator": "gte",
                                                    "compareTo": "14",
                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                    "propId": null
                                                },
                                                "right": {
                                                    "type": "expressions.variableComparison",
                                                    "variableScope": "global",
                                                    "variableName": "time.hour",
                                                    "operator": "gte",
                                                    "compareTo": "14",
                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                    "propId": null
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "id": "e0a80505-ebf2-4930-948c-2563d8661f6c",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Perception",
                                                    "target": "40",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.stopPlayer"
                                                },
                                                {
                                                    "type": "nodes.turnActor",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                    "scope": "prop",
                                                    "targetActorId": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "14c5ded3-affa-4e7c-8475-76e0da68ccf1",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "You know, I find that wall rather suspicious... It's too open. No paintings, no sets of armor... This looks like a good place to put a hidden door or something.",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "0de58c5e-5616-41a1-b32e-c5c32235ad6d",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Maybe the Disbarred Bard class lessons ARE useful.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "9e087869-532d-45f0-a646-1bf2c468913d",
                                                    "scope": "scene",
                                                    "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "SecretDoor_ZoneTriggered",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "d6e8cbf8-5f7c-4fc3-b885-1d93d02036e6",
                                                    "propId": "1e82da76-5f18-4048-8f13-1c24489822c1",
                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                    "status": "Visible",
                                                    "wait": false
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.previousScene",
                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d"
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "scopeFilterId": null,
                                    "tags": "SecretDoorClosed",
                                    "has": false
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "18a9220b-e32b-48c7-8cb4-98b9706aa518",
                                    "scope": "scene",
                                    "scopeId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "SecretDoorClosed",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "34cd5c45-4816-469d-a8f7-4f1acc5ded95",
                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "status": "Open",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "0.1"
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "4c00e892-fb68-486d-ad6c-60ca1a9c3171",
                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                    "status": "Closing",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "prop",
                                                "scopeId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                "scopeFilterId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                "tags": "firsttime",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "c3cda40b-eaec-498d-8a80-7e0f531c5e0e",
                                                    "scope": "prop",
                                                    "scopeId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                    "scopeFilterId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                    "tagsToAdd": "firsttime",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "c0f7250c-2915-45d8-8429-c6693a66a348",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "So this is where that secret passageway leads!",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}