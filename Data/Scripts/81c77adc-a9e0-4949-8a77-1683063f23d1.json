{
    "type": "script",
    "id": "81c77adc-a9e0-4949-8a77-1683063f23d1",
    "name": "Interact With Rogue Classroom Door",
    "sceneId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
    "propId": "cecb732b-a183-4c4c-8921-d67575acb09b",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "a59d678f-79b2-437f-b28a-188baea921fc",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "981b66fa-6054-4a98-bade-0964fd54292a",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "40b85a0e-6ef7-464e-910a-bd52e61f4d0a",
                            "text": "Look at the Door",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "prop",
                                                "scopeId": "cecb732b-a183-4c4c-8921-d67575acb09b",
                                                "scopeFilterId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                                "tags": "islocked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "script",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "pickedclassroomlock",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "cfd72855-d616-4f26-b751-5d7fd30e819e",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Huh, that's weird. The door is locked again; it must be self-locking. It's almost is if they want us to practice lockpicking on our own classroom door or something.",
                                                                    "emotion": "4",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "7a2222e5-f3aa-410a-a7aa-6c3f1e15ead2",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "It's locked! You'd think they would trust us Rogues - er, Disbarred Bards - more than that.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "f019d65a-096c-4f19-b908-e2cac40e2e91",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Good, they haven't relocked the door since I... adjusted it.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "bc7afc2b-60de-442a-bd78-fd51df16985f",
                            "text": "Enter the Classroom",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "scene",
                                                "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                "scopeFilterId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                                "tags": "GObreakin",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "ce77c43b-2c50-4de6-92b4-638485cf3b1f",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "It's too late to search the classroom. I just hope that I can find the hidden thing - whatever it is - out here in the hallway.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "prop",
                                                "scopeId": "cecb732b-a183-4c4c-8921-d67575acb09b",
                                                "scopeFilterId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                                "tags": "islocked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "f802d1ec-cc75-4814-83ec-55c8ba978116",
                                                    "scriptId": "07efa0fa-4d32-4765-ad95-5e9b6c2d6933",
                                                    "entryPointId": "a59d678f-79b2-437f-b28a-188baea921fc",
                                                    "currentScope": "Scenes",
                                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "126b77c8-cdb4-4ee1-83a7-43440d5fbf2b",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Darn, they keep the door locked outside of class hours. It's not as though Gerhard keeps anything valuable in there.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "f6c0974d-9059-4148-974b-d019f1aa3bfc",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I'll just slip on through this conveniently unlocked door...",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "0c550641-98ff-45e8-b78f-40cb3018f170",
                                                    "scriptId": "a1004657-984b-46ba-8870-9550cbfb4b35",
                                                    "entryPointId": "a59d678f-79b2-437f-b28a-188baea921fc",
                                                    "currentScope": "Scenes",
                                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                },
                                                {
                                                    "type": "nodes.changeScene",
                                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                    "spawnId": "f78840c0-b0f1-453e-b0d6-8d12e2386c07",
                                                    "fadeTime": 2
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "2deee544-ac99-49b2-a21b-8c1c7b3ae3bf",
                            "text": "Listen at the Door",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "hasListenedToday",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "1614488c-b3c4-4602-866a-c89e75275275",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I already know nobody's in there.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelDown",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "33ee3a2e-64fe-4b3b-ab1a-5d7499a0500c",
                                                    "scope": "prop",
                                                    "scopeId": "cecb732b-a183-4c4c-8921-d67575acb09b",
                                                    "scopeFilterId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                                    "tagsToAdd": "hasListenedToday",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.incrementTime",
                                                    "id": "44877ec6-34fb-44a8-b6f4-84eb06f770a3",
                                                    "days": 0,
                                                    "hours": 0,
                                                    "minutes": "5"
                                                },
                                                {
                                                    "id": "94f3100a-d3fb-46c6-8882-6bf311ab7d49",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Perception",
                                                    "target": "20",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "34645445-9dbd-408d-aa38-0ef6cb7db324",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I don't hear anyone in the classroom right now.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelUp",
                                                    "wait": true
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "70cd19fc-2f37-40a8-897b-cd06ad3c5142",
                            "text": "Pick the Lock",
                            "nodes": [
                                {
                                    "type": "nodes.comment",
                                    "message": "Add a Tool Use check before you can open the door.",
                                    "commentor": "Locked"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.variableComparison",
                                                "variableScope": "global",
                                                "variableName": "ego.haslockpick",
                                                "operator": "eq",
                                                "compareTo": "false",
                                                "sceneId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                                "propId": null
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "92c0887e-79f3-4fab-8085-327ceb6c7826",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I'll have to get some lockpicks first!",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.incrementTime",
                                                    "id": "3fa954ab-03da-43b2-a039-a87644555167",
                                                    "days": 0,
                                                    "hours": 0,
                                                    "minutes": "10"
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelDown",
                                                    "wait": true
                                                },
                                                {
                                                    "id": "43754dd6-006c-4cdb-b2b9-4ed8890d72e6",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Tool Use",
                                                    "target": "20",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.comment",
                                                                "message": "Note we do NOT clear islocked tag because door will re-lock itself behind Shawn.",
                                                                "commentor": "Door stays locked"
                                                            },
                                                            {
                                                                "type": "nodes.changeTags",
                                                                "id": "53c9db51-e4b3-4b10-ab6e-bd9fe5343b84",
                                                                "scope": "script",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tagsToAdd": "pickedclassroomlock",
                                                                "tagsToRemove": null
                                                            },
                                                            {
                                                                "type": "nodes.playSoundEffect",
                                                                "soundEffectName": "lockpick_success.wav",
                                                                "wait": true
                                                            },
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "4f36e550-40f9-456f-9a97-fb285af774d1",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "I'm in!",
                                                                "emotion": "1",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            },
                                                            {
                                                                "type": "nodes.playAnimation",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "animationName": "KneelUp",
                                                                "wait": true
                                                            },
                                                            {
                                                                "type": "nodes.invokeScript",
                                                                "id": "523376aa-a015-49fb-93dc-0ff09f7fb9fd",
                                                                "scriptId": "a1004657-984b-46ba-8870-9550cbfb4b35",
                                                                "entryPointId": "a59d678f-79b2-437f-b28a-188baea921fc",
                                                                "currentScope": "Scenes",
                                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                                "currentActorId": null,
                                                                "currentStoryEventId": null,
                                                                "currentPropId": null
                                                            },
                                                            {
                                                                "type": "nodes.changeScene",
                                                                "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                "spawnId": "f78840c0-b0f1-453e-b0d6-8d12e2386c07",
                                                                "fadeTime": 2
                                                            }
                                                        ]
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.playSoundEffect",
                                                                "soundEffectName": "lockpick_failure.wav",
                                                                "wait": true
                                                            },
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "bdddaf14-29d6-4c7c-a1ca-e50a3e7c042c",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "I just can't seem to get it.",
                                                                "emotion": "3",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            }
                                                        ]
                                                    },
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelUp",
                                                    "wait": true
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                    "scopeFilterId": null,
                                    "tags": "GObreakin",
                                    "has": false
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "prop",
                                    "scopeId": "cecb732b-a183-4c4c-8921-d67575acb09b",
                                    "scopeFilterId": "3256b6d8-50b9-4764-b016-01ea538ea55f",
                                    "tags": "islocked",
                                    "has": true
                                }
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": true
                        },
                        {
                            "type": "options.text",
                            "id": "bf564a58-331c-4157-a151-42a30d560ffb",
                            "text": "Sense Magic",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "653c6cdc-1e4a-4f83-900d-70f5044bd9c5",
                                    "scriptId": "533e1ce1-13d3-439f-8544-dbdf808d30c4",
                                    "entryPointId": "",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": false,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "f50e1431-a8a5-4ee3-b039-443d3be67e73",
                            "text": "DEBUG: Enter the Classroom (for debugging purposes only)",
                            "nodes": [
                                {
                                    "type": "nodes.changeScene",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "spawnId": "1af9bf5f-e86c-4f94-ad23-271816cddebf",
                                    "fadeTime": 2
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "DEBUG",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": true
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}