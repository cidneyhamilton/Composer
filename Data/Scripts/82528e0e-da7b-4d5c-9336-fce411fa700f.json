{
    "type": "script",
    "id": "82528e0e-da7b-4d5c-9336-fce411fa700f",
    "name": "DamnBlowUpDam",
    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
    "trigger": {
        "type": "triggers.manual",
        "name": "Manual"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "2b05046f-35ac-406b-a967-f552c40142d3",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "fc253650-d192-4077-8a0c-bde8f536e851",
                                    "scope": "scene",
                                    "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "serpentGone",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "f3a8b370-8cc7-4a05-92d9-d5387da390a4",
                                    "scope": "scene",
                                    "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "sea_serpent_completed",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "a1e2b33e-020e-4f14-aea7-cec3de38347c",
                                    "scope": "scene",
                                    "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "dam_destroyed",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f23014a7-6529-4fc2-aba0-1690e0fb36d7",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Here goes nothing!",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelDown",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeOut",
                                    "fadeTime": "1",
                                    "fadeTime2": 2,
                                    "wait": true,
                                    "fadeDown": 1,
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.comment",
                                    "message": "It would be cool to screen shake the vignette here.",
                                    "commentor": "Joshua"
                                },
                                {
                                    "type": "nodes.showVignette",
                                    "vignetteName": "SeaCave_SerpentDamExplosion.png",
                                    "crossFadeTime": 0
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "explosion_large.wav",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeIn",
                                    "fadeTime": 2,
                                    "fadeTime2": ".5",
                                    "wait": true,
                                    "fadeDown": ".25",
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "3"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "5bdb16b2-2443-4596-878d-2a20c1110ba0",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Woooohaaaaaa!",
                                    "emotion": "4",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeOut",
                                    "fadeTime": "1",
                                    "fadeTime2": 2,
                                    "wait": true,
                                    "fadeDown": 1,
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.invokeCommand",
                                    "id": "981d441c-c1c2-4564-91a9-40bceb7e2f47",
                                    "entityType": "prop",
                                    "entityFilterId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "entityId": "9fb5f8e3-2686-477e-bf34-aa3ec47908a8",
                                    "command": "explode_dam",
                                    "resultVariableScope": "script"
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "507025ab-1fe0-4897-99b7-7f2d5d7ecc73",
                                    "propId": "37c8b192-3b91-47f3-bb2a-f750dd3863cd",
                                    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "744eda5e-2d20-4817-b1b3-64c561be722e",
                                    "propId": "ea67f317-fc76-4000-9aba-924f64262a7c",
                                    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "730ffd49-455a-4a83-b978-9b758f4b61c8",
                                    "propId": "3b8cc0d0-9cbb-4f62-a486-532ca314f942",
                                    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "1885d502-eae1-45aa-84a0-becfdbd37d54",
                                    "propId": "0423e81d-0561-461b-b7a1-668ca8311236",
                                    "sceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.hideVignette",
                                    "waitForSeconds": 1
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeIn",
                                    "fadeTime": 2,
                                    "fadeTime2": ".5",
                                    "wait": true,
                                    "fadeDown": ".25",
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.placeActor",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "spawnId": "65520235-2781-402a-b318-46e8438e140d",
                                    "pose": null,
                                    "behaviour": "FellDown",
                                    "immediate": true
                                },
                                {
                                    "type": "nodes.resetCamera",
                                    "wait": false,
                                    "time": "1"
                                },
                                {
                                    "type": "nodes.turnActor",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "propId": "7fbf4fad-da80-4c0a-b941-0a1417efc152",
                                    "scope": "prop",
                                    "targetActorId": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "630aef5c-296f-4402-9ff4-b79714a96fde",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "text": "Maybe I could've used one less bomb after all!",
                                    "emotion": "4",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "scene",
                                                    "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                    "scopeFilterId": null,
                                                    "tags": "sea_serpent_injured",
                                                    "has": false
                                                },
                                                "right": {
                                                    "type": "expressions.inTags",
                                                    "scope": "scene",
                                                    "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                    "scopeFilterId": null,
                                                    "tags": "sea_serpent_dead",
                                                    "has": false
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "870e1ab5-d6ca-432d-b776-c4366ee949ca",
                                                    "scriptId": "49f591bb-35f4-4f12-b629-8b71ba40421b",
                                                    "entryPointId": "",
                                                    "currentScope": "Scenes",
                                                    "currentSceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "scene",
                                                "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                "scopeFilterId": null,
                                                "tags": "sea_serpent_dead",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "7370bd1f-ad27-457c-b213-efd722bae360",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Well, that's the dam taken care of! But the Sea Serpent isn't going anywhere except to the big underground sea cave in the sky.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "scene",
                                                "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                "scopeFilterId": null,
                                                "tags": "sea_serpent_injured",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "scene",
                                                                "scopeId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                                "scopeFilterId": null,
                                                                "tags": "sea_serpent_healed",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.invokeScript",
                                                                    "id": "47a4aa26-ed6e-4510-8cd3-9acb0aff4918",
                                                                    "scriptId": "49f591bb-35f4-4f12-b629-8b71ba40421b",
                                                                    "entryPointId": "",
                                                                    "currentScope": "Scenes",
                                                                    "currentSceneId": "5bf05db2-b4fe-4863-b426-f058e04e908c",
                                                                    "currentActorId": null,
                                                                    "currentStoryEventId": null,
                                                                    "currentPropId": null
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "5815c7d7-b185-4e25-b933-5bde9123e5a6",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Well, that's the dam taken care of, but I think this big guy is too hurt to go anywhere right now.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}