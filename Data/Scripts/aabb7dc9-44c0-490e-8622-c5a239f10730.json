{
    "type": "script",
    "id": "aabb7dc9-44c0-490e-8622-c5a239f10730",
    "name": "Interact with Wine Screw",
    "sceneId": "1565f241-1bad-4dc5-acd2-ac931966280f",
    "propId": "b0a4da7b-0f70-4f62-8590-0efc6c292e80",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "761c0ac6-142f-4979-ae7e-10c2f4497a83",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "c93c033e-5eb0-4d54-9b19-1fd9a3468655",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "9a6ce81c-53b0-4a26-b502-5172d3d1476b",
                            "text": "Examine the Press Screw",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "68bf9cbe-df5e-493d-a7c7-0d2bdf56352f",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Odd - I assumed that this was taken from off one of the barrels for pressing the grapes, but this seems to be attached to the floor.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "8e5f35d5-70cf-4932-8732-ce2a03957a6f",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "The handle still turns and it looks like it screws into the floor.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "d8c13148-3787-421c-8143-70e842f2a858",
                            "text": "Move the Press Screw",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "bf57e999-159f-454c-a853-a8ed791b97f0",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "It's solidly attached to the floor. I can't budge it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": false,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "9bafb58c-45e0-41c4-b950-51b9a02d9590",
                            "text": "Screw It",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "OpenDoor",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "2099712e-7d01-4afe-a4b1-a895a41a8e1e",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "HasScrewed",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "87d8afde-16ad-4b95-ad60-d0a95e93374c",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Okay - what happens when I turn this screw?",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "ReachOut",
                                                    "wait": false
                                                },
                                                {
                                                    "type": "nodes.wait",
                                                    "waitForSeconds": "0.2"
                                                },
                                                {
                                                    "type": "nodes.invokeCommand",
                                                    "id": "5d7c4bf2-47cb-4cc1-933c-e15017b7fb5f",
                                                    "entityType": "prop",
                                                    "entityFilterId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "entityId": "b0a4da7b-0f70-4f62-8590-0efc6c292e80",
                                                    "command": "open",
                                                    "wait": true,
                                                    "resultVariableScope": "script"
                                                },
                                                {
                                                    "type": "nodes.playSoundEffect",
                                                    "soundEffectName": "hidden_wall_open.wav",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "e669f4af-ef9d-40fd-9ac1-9d55cfe17258",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Okay, it clearly did something... but what?",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "f1803a37-60b9-49c5-9117-3a1ba5b23f2a",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "OpenDoor",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "4221ac84-16ee-42e7-be59-7ab4ab0f6c24",
                                                    "propId": "a37eb2a2-2338-486b-93d8-8f7de2a7a574",
                                                    "sceneId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "status": "Visible",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "18ae539f-8ef6-4740-9aa0-3acdc8764dd9",
                                                    "propId": "053b1949-33b3-441d-8b16-15ed3dad1c32",
                                                    "sceneId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "status": "Hidden",
                                                    "wait": false
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "44af3886-3681-4bb9-8192-890783af76b5",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "All right, so what happens if I unscrew it this thing?",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "ReachOut",
                                                    "wait": false
                                                },
                                                {
                                                    "type": "nodes.wait",
                                                    "waitForSeconds": "0.2"
                                                },
                                                {
                                                    "type": "nodes.invokeCommand",
                                                    "id": "8792b5e9-d9b8-458c-b0bf-b3fced72ef2f",
                                                    "entityType": "prop",
                                                    "entityFilterId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "entityId": "b0a4da7b-0f70-4f62-8590-0efc6c292e80",
                                                    "command": "close",
                                                    "wait": true,
                                                    "resultVariableScope": "script"
                                                },
                                                {
                                                    "type": "nodes.playSoundEffect",
                                                    "soundEffectName": "hidden_wall_open.wav",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "71fe0637-0e08-4fc6-86d7-e662e99aa3fa",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "",
                                                    "tagsToRemove": "OpenDoor"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "db7e6147-ff98-47e2-9461-5520eb177cb4",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Well, other than making the noise, I can't see if that it did anything.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "dfb431fc-92fa-4b8e-8ec3-5489b24ad16f",
                                                    "propId": "a37eb2a2-2338-486b-93d8-8f7de2a7a574",
                                                    "sceneId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "status": "Hidden",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "f7ff2841-b0f1-4e73-935c-ad1e464fd9af",
                                                    "propId": "053b1949-33b3-441d-8b16-15ed3dad1c32",
                                                    "sceneId": "1565f241-1bad-4dc5-acd2-ac931966280f",
                                                    "status": "Visible",
                                                    "wait": false
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": true
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}