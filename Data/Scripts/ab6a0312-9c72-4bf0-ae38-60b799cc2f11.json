{
    "type": "script",
    "id": "ab6a0312-9c72-4bf0-ae38-60b799cc2f11",
    "name": "_On Enter",
    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
    "trigger": {
        "type": "triggers.enter",
        "name": "Enter"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "ccae4815-fb6d-4ba7-8304-1282f4838e31",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.changePropVisibility",
                    "id": "1fe88263-a142-474e-a36b-a9b4bd95df6c",
                    "propId": "e6d2c0cd-2c12-4087-9148-1a435ce069bc",
                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                    "status": "Hidden",
                    "wait": false
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.or",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "scopeFilterId": null,
                                    "tags": "puzzle_solved",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "actor",
                                    "scopeId": "3ec7237c-65ea-4a23-9e21-697f17a2dbe8",
                                    "scopeFilterId": null,
                                    "tags": "DratT&E",
                                    "has": true
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.invokeCommand",
                                    "id": "217d39df-f80c-4568-b83a-48a2749f6d68",
                                    "entityType": "prop",
                                    "entityFilterId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "entityId": "bd289a78-13e7-413e-985b-f294763121e7",
                                    "command": "solved",
                                    "wait": true,
                                    "resultVariableScope": "script"
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "dbcc66b6-d36d-48fc-a5d5-89ce2fb7fe9e",
                                    "propId": "c48d2846-0999-47d3-aaba-f5de2995a1d9",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "592944a6-b185-4a97-a602-cafd492e317c",
                                    "propId": "bd289a78-13e7-413e-985b-f294763121e7",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Visible",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "a66fea0a-7a03-40f2-9d93-94046e54056f",
                                    "propId": "5bf9e7a2-d486-469f-b5f2-44122db9c52a",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "3b86dc8c-7052-4ee8-a677-be0f919a29e3",
                                    "propId": "bd289a78-13e7-413e-985b-f294763121e7",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Visible",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "412c46a1-d055-40b1-8d0f-d08d8ebf43f3",
                                    "propId": "c48d2846-0999-47d3-aaba-f5de2995a1d9",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Visible",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "4b06c171-5be1-44d4-8327-70f984069a20",
                                    "propId": "5bf9e7a2-d486-469f-b5f2-44122db9c52a",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Visible",
                                    "wait": true
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.setCameraFOV",
                    "wait": false,
                    "fov": "7",
                    "time": "0"
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "scopeFilterId": null,
                                    "tags": "Entered",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.inTags",
                                        "scope": "scene",
                                        "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                        "scopeFilterId": null,
                                        "tags": "puzzle_solved",
                                        "has": false
                                    },
                                    "right": {
                                        "type": "expressions.inTags",
                                        "scope": "actor",
                                        "scopeId": "3ec7237c-65ea-4a23-9e21-697f17a2dbe8",
                                        "scopeFilterId": null,
                                        "tags": "DratT&E",
                                        "has": true
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.onceOnly",
                                    "id": "930799ce-cd67-4cf4-86f0-76a6e138bd08",
                                    "nodes": [
                                        {
                                            "type": "nodes.speak",
                                            "id": "ee37c897-d17a-4659-b386-9427a5544231",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "text": "The tiles... they're gone!",
                                            "emotion": "4",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        },
                                        {
                                            "type": "nodes.speak",
                                            "id": "402929c5-81e2-4717-8b42-cba036e58839",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "text": "Esme and Thomas must have solved this on their way to deal with the Drat Queen. Impressive!",
                                            "emotion": "1",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.onceOnly",
                    "id": "3a122fba-f84c-42e9-a176-dd547e7e30ef",
                    "nodes": [
                        {
                            "type": "nodes.changeTags",
                            "id": "fa370b57-772c-4ed5-b503-04834cf7cb87",
                            "scope": "scene",
                            "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                            "scopeFilterId": null,
                            "tagsToAdd": "Entered",
                            "tagsToRemove": null
                        },
                        {
                            "type": "nodes.speak",
                            "id": "586387fa-d8cd-4bf1-a6b5-d2bfde3b30ae",
                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                            "actorId2": null,
                            "text": "I guess the levers opened up the door. ",
                            "emotion": "0",
                            "emotion2": "0",
                            "device": "0",
                            "device2": "0"
                        },
                        {
                            "type": "nodes.speak",
                            "id": "2000b3c2-a0d8-4540-904d-37057992994b",
                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                            "actorId2": null,
                            "text": "I LOVE new technology like that!",
                            "emotion": "1",
                            "emotion2": "0",
                            "device": "0",
                            "device2": "0"
                        },
                        {
                            "type": "nodes.branch",
                            "sections": [
                                {
                                    "type": "nodes.branchSection",
                                    "expression": {
                                        "type": "expressions.inTags",
                                        "scope": "actor",
                                        "scopeId": "3ec7237c-65ea-4a23-9e21-697f17a2dbe8",
                                        "scopeFilterId": null,
                                        "tags": "DratT&E",
                                        "has": false
                                    },
                                    "nodes": [
                                        {
                                            "type": "nodes.speak",
                                            "id": "dc323f75-b483-4d43-a121-dd821709aecf",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "actorId2": null,
                                            "text": "But what sort of fresh hell is <i>this</i>?",
                                            "emotion": "4",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                "scopeFilterId": null,
                                "tags": "attempt_failed",
                                "has": true
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "e8def534-6d88-4d3f-86c1-7276f7ed4363",
                                    "scope": "scene",
                                    "scopeId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "",
                                    "tagsToRemove": "attempt_failed"
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "Recovering"
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "3eee6255-aba2-450f-9347-5b89274f24d2",
                                    "propId": "e6d2c0cd-2c12-4087-9148-1a435ce069bc",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "status": "Visible",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "magic_teleport.wav",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "1"
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "Shawn_Sigh.wav",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f784fef5-f644-40d6-bec0-3e80833b86f0",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "*sigh* I better not try that again 'til I know what I'm doing.",
                                    "emotion": "2",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}