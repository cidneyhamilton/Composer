{
    "type": "script",
    "id": "ae6cb7af-d87e-4a53-81f4-8c2766ab9cc3",
    "name": "Interact with Mantel",
    "storyEventId": "32df3697-cde9-48af-82a6-51be5fc65db4",
    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
    "propId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "095d5cda-7874-4eb8-a886-c605e9beb9e7",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.comment",
                    "message": "Moving this to the prop",
                    "commentor": "Joshua"
                },
                {
                    "type": "nodes.showMenu",
                    "id": "7f9b43ee-e937-4549-8d55-0c3452e2309b",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "15e30ec3-7ff0-49a9-8433-07a41e1f860f",
                            "text": "Examine the Fireplace Mantel",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "paneldiscovered",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "d6025a5f-2589-4db1-acfa-ab59e6a6e395",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "paneldiscovered",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "c166ff7f-2d38-47a2-b824-5c89a6a96a03",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "This shamrock design reminds me of the description of the Lucky Coin. I'll take my time examining it...",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "859831c1-a414-406c-8d3e-efd1b5b2dcd3",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Aha! One of the shamrock panels seems loose.",
                                                    "emotion": "1",
                                                    "device": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "hasopenedpanel",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "3c5f7ed1-5798-41ea-b4f6-0c9de2a689a1",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "The safe is cleverly concealed behind the secret panel. If I hadn't felt the loose stone, I'd never have seen it.",
                                                    "emotion": "0",
                                                    "device": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "2a52bb31-1f2e-4242-be19-6eaaa252d387",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "The suspense is killing me! I wonder what's behind the secret panel!",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "4",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "dfa3127d-cb0e-4703-8f26-b96d1857e580",
                            "text": "Climb the Fireplace Mantel",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "a0ec773c-f5c0-4328-a3cc-dcfc65a39a3a",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Better not. One of the stones in the mantel feels a little loose. Besides, I'd have a moose in my face.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "88dd4a69-78a1-4f09-953d-f2028efb6582",
                            "text": "Examine the Loose Panel",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "panelmany",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "572f6aac-5449-4472-a606-835b770627ec",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Behind this secret panel hides a mysterious safe.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "hasopenedpanel",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "c2afa9c0-7d55-42e8-99a1-89e2732d4c6c",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "panelmany",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "1fc2cf61-2945-429d-b076-d694179dad59",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "I knew there was <i>some</i>thing interesting behind that section of the mantel. Chalk one up for my powers of observation!",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "target",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "ExaminedPanel",
                                                                "has": false
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "id": "e2510d70-f09f-4c14-88ee-5bfa96ea0e76",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Perception",
                                                                    "target": "5",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": []
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": []
                                                                    },
                                                                    "notify": true
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "ExaminedPanel",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "080f91c6-090c-41a8-b613-f1de49a74d97",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Yep, it's a loose panel all right. I wonder what's behind it.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "d6113056-c112-4930-8e22-6d7a78fa63dd",
                                                    "scope": "target",
                                                    "scopeId": null,
                                                    "scopeFilterId": null,
                                                    "tagsToAdd": "ExaminedPanel",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "8e4d6267-0605-4947-8572-f9545b5092d0",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Hmmm... it looks like the end panel with the shamrock design was designed as a separate piece. It's not quite attached to the fireplace...",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "42133d4c-55a1-41be-b4a8-7e5c67437ae9",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Of course! It's the old 'sliding secret panel in the fireplace mantel' trick! That's the oldest trick in the book.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "id": "a74bec1a-6fe0-4095-a004-03a5a3f2a261",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Perception",
                                                    "target": "5",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "notify": true
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "target",
                                "scopeId": null,
                                "scopeFilterId": null,
                                "tags": "paneldiscovered",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "82a5d376-b818-4d71-adaf-8c3a35838837",
                            "text": "Move the Loose Mantel Panel",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": "7b364bb4-86ec-4224-8f97-bc95beff3804",
                                                "scopeFilterId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                "tags": "hasopenedpanel",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.turnActor",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "propId": "24f071b8-245e-4e7b-aa94-00e87b84ce45",
                                                    "wait": true,
                                                    "scope": "prop",
                                                    "targetActorId": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "a794f09d-7cb4-4645-8501-08d4d383854d",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "There's got to be a catch to the secret panel somewhere.",
                                                    "emotion": "0",
                                                    "device": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "63b06303-920b-413f-a86d-73aabd0f8568",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "There! It feels like it just slides open. I'll just...",
                                                    "emotion": "0",
                                                    "device": "0"
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "b4c5374e-6f89-45e7-8ad3-0fb2788d8bca",
                                                    "propId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
                                                    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                    "status": "Opening",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "d7badd35-46e9-481d-8fe1-49fbeb26c5c2",
                                                    "scope": "prop",
                                                    "scopeId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
                                                    "scopeFilterId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                    "tagsToAdd": "panelisopen",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "54d63dfe-f71b-4fc8-b59b-19c1a6a09aa2",
                                                    "scope": "target",
                                                    "scopeId": "7b364bb4-86ec-4224-8f97-bc95beff3804",
                                                    "scopeFilterId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                    "tagsToAdd": "hasopenedpanel",
                                                    "tagsToRemove": null
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "58b07d39-94df-4c00-a081-0caf2da48ce7",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Got it!",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "15bf060c-c05d-46ba-879e-5b6e93ee2f2d",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Nice - there's a small safe hidden in the fireplace mantel!",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "id": "7e22e03e-b49b-4524-8496-4dc829e3de7e",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Moxie",
                                                    "target": "5",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": []
                                                    },
                                                    "notify": true
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.turnActor",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "propId": "24f071b8-245e-4e7b-aa94-00e87b84ce45",
                                                    "wait": true,
                                                    "scope": "prop",
                                                    "targetActorId": null
                                                },
                                                {
                                                    "type": "nodes.changePropVisibility",
                                                    "id": "2816e95d-05c0-4504-9534-fcbe240caad8",
                                                    "propId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
                                                    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                    "status": "Opening",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.changeTags",
                                                    "id": "1a720f0e-6e27-4a73-9aad-3c840b1867d3",
                                                    "scope": "target",
                                                    "scopeId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
                                                    "scopeFilterId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                                    "tagsToAdd": "panelisopen",
                                                    "tagsToRemove": null
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "d61255d3-cc04-4730-9dc6-8c5944f4923d",
                                    "propId": "24f071b8-245e-4e7b-aa94-00e87b84ce45",
                                    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                    "status": "Visible",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "40f2c90d-2c36-4e36-a821-ad7d730df76a",
                                    "scriptId": "c4a67181-5af2-48b4-a36d-d291b330ed28",
                                    "entryPointId": "",
                                    "currentScope": "StoryEvents",
                                    "currentSceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                    "currentActorId": null,
                                    "currentStoryEventId": "32df3697-cde9-48af-82a6-51be5fc65db4",
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tags": "paneldiscovered",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.inTags",
                                        "scope": "target",
                                        "scopeId": null,
                                        "scopeFilterId": null,
                                        "tags": "panelisopen",
                                        "has": false
                                    },
                                    "right": {
                                        "type": "expressions.inTags",
                                        "scope": "target",
                                        "scopeId": null,
                                        "scopeFilterId": null,
                                        "tags": "ExaminedPanel",
                                        "has": true
                                    }
                                }
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "70503ebd-b8d1-4c4f-9309-3dcb7404c096",
                            "text": "Access the Safe",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "861417c2-b5e5-40bf-b0d2-b701e6976c5e",
                                    "scriptId": "c4a67181-5af2-48b4-a36d-d291b330ed28",
                                    "entryPointId": "",
                                    "currentScope": "StoryEvents",
                                    "currentSceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                    "currentActorId": null,
                                    "currentStoryEventId": "32df3697-cde9-48af-82a6-51be5fc65db4",
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "target",
                                "scopeId": null,
                                "scopeFilterId": null,
                                "tags": "panelisopen",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "1d99ff4b-cc0c-45f3-b0a5-809ff80e82eb",
                            "text": "Close the Secret Panel",
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "448c179d-2375-4544-b645-554974318e0b",
                                    "scope": "target",
                                    "scopeId": null,
                                    "scopeFilterId": null,
                                    "tagsToRemove": "panelisopen"
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "3323fccd-d4ea-4c9c-9426-8b73192956f2",
                                    "propId": "0ed72d17-0f1f-4d12-9af3-1d0ff76a0053",
                                    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                    "status": "Closing",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "2781be37-5f68-4240-bc3c-8e89fde1a8e4",
                                    "propId": "24f071b8-245e-4e7b-aa94-00e87b84ce45",
                                    "sceneId": "212f8023-648d-45df-8f16-d56a7f081d41",
                                    "status": "Hidden",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "6008959f-1c0a-4d2a-a174-278282a951dd",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "The secret panel is now closed and practically invisible against the fireplace mantel design. They'll never know I found it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "target",
                                "scopeId": null,
                                "scopeFilterId": null,
                                "tags": "panelisopen",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "1",
                            "ExitMenu": true
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}