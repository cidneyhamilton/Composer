{
    "type": "script",
    "id": "b224f499-f220-4dfb-b92f-a234df04375d",
    "name": "Make Antidote Potion",
    "sceneId": "df6088fa-a6d6-441a-9a00-7af3baa62e14",
    "trigger": {
        "type": "triggers.manual",
        "name": "Manual"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "f428bc35-739a-4693-9b90-dfc0d128db36",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.setVariable",
                    "name": "FairyCount",
                    "scope": "script",
                    "source": {
                        "type": "variables.count",
                        "target": "e81826e9-efa7-4dbf-b232-df831c130aa9",
                        "useArticle": false,
                        "includeText": false,
                        "text": "",
                        "displayName": "Count"
                    },
                    "add": false
                },
                {
                    "type": "nodes.setVariable",
                    "name": "PuffCount",
                    "scope": "script",
                    "source": {
                        "type": "variables.count",
                        "target": "414d7c9f-1649-4dae-8ace-96421d0928c9",
                        "useArticle": false,
                        "includeText": false,
                        "text": "",
                        "displayName": "Count"
                    },
                    "add": false
                },
                {
                    "type": "nodes.setVariable",
                    "name": "ChanterelleCount",
                    "scope": "script",
                    "source": {
                        "type": "variables.count",
                        "target": "a5f3462b-dfe1-4708-836c-6f87aef2bf3d",
                        "useArticle": false,
                        "includeText": false,
                        "text": "",
                        "displayName": "Count"
                    },
                    "add": false
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "script",
                                "scopeId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                "scopeFilterId": null,
                                "tags": "ForceCraft",
                                "has": true
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "e3888abb-2ee0-4525-a2a9-10cc0df1bbde",
                                    "scope": "script",
                                    "scopeId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                    "scopeFilterId": null,
                                    "tagsToRemove": "ForceCraft"
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "5d93b499-4912-4b42-b9d2-dfebfae40aa6",
                                    "scriptId": "b224f499-f220-4dfb-b92f-a234df04375d",
                                    "entryPointId": "9585d6e7-2914-466e-b366-f211d4c021c8",
                                    "currentScope": "Current",
                                    "currentSceneId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "script",
                                    "variableName": "PuffCount",
                                    "operator": "gte",
                                    "compareTo": "4",
                                    "sceneId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.variableComparison",
                                        "variableScope": "script",
                                        "variableName": "FairyCount",
                                        "operator": "gte",
                                        "compareTo": "1",
                                        "sceneId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                        "propId": null
                                    },
                                    "right": {
                                        "type": "expressions.variableComparison",
                                        "variableScope": "script",
                                        "variableName": "ChanterelleCount",
                                        "operator": "gte",
                                        "compareTo": "5",
                                        "sceneId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                        "propId": null
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "b66fa5ad-21cd-486a-bdff-0238c5db9f52",
                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                    "actorId2": null,
                                    "text": "It takes 5 Chanterelles, 4 Puffballs, and 1 Fairy Parasol to make 1 Antidote Potion. You have ${script.ChanterelleCount} Chanterelles, ${script.PuffCount} Puffballs, and ${script.FairyCount} Fairy Parasols. Continue crafting?",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.showMenu",
                                    "id": "895951fb-6b1f-4f54-b37f-8925def0916e",
                                    "options": [
                                        {
                                            "type": "options.text",
                                            "id": "4837b1fd-34a1-4238-a3fd-f2678e1212af",
                                            "text": "Continue Crafting",
                                            "nodes": [
                                                {
                                                    "type": "nodes.setVariable",
                                                    "name": "CraftCount",
                                                    "scope": "script",
                                                    "source": {
                                                        "type": "variables.literal",
                                                        "value": "1",
                                                        "displayName": "Literal"
                                                    },
                                                    "add": true
                                                },
                                                {
                                                    "type": "nodes.changeInventory",
                                                    "id": "cc69a313-7b0f-45ba-b550-a2185c9b38f6",
                                                    "propId": "a5f3462b-dfe1-4708-836c-6f87aef2bf3d",
                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                    "change": "0",
                                                    "count": "5",
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.changeInventory",
                                                    "id": "b5ca6068-bda0-4805-8b9c-95f66bbb5b1a",
                                                    "propId": "414d7c9f-1649-4dae-8ace-96421d0928c9",
                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                    "change": "0",
                                                    "count": "4",
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.changeInventory",
                                                    "id": "c97145d9-edfb-477f-b414-4b33b549afe7",
                                                    "propId": "e81826e9-efa7-4dbf-b232-df831c130aa9",
                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                    "change": "0",
                                                    "count": 1,
                                                    "notify": true
                                                },
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "683a298b-173d-4c13-9192-50f0f3c86514",
                                                    "scriptId": "b224f499-f220-4dfb-b92f-a234df04375d",
                                                    "entryPointId": "9585d6e7-2914-466e-b366-f211d4c021c8",
                                                    "currentScope": "Current",
                                                    "currentSceneId": "1c60250c-dab6-4aaa-aaeb-b7f4203ccb9d",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                }
                                            ],
                                            "expression": null,
                                            "ignoreChildAvailability": true,
                                            "minutes": 0,
                                            "ExitMenu": true
                                        }
                                    ],
                                    "AutoAddDone": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "538d60db-92c4-4bf1-b4e2-566598a34cf1",
                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                    "actorId2": null,
                                    "text": "You do not have enough materials.It takes 5 Chanterelles, 4 Puffballs, and 1 Fairy Parasol to make 1 Antidote Potion. You have ${script.ChanterelleCount} Chanterelles, ${script.PuffCount} Puffballs, and ${script.FairyCount} Fairy Parasols.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "scripts.entryPoint",
            "id": "9585d6e7-2914-466e-b366-f211d4c021c8",
            "name": "Craft",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "mortar_pestle.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "lighter_on.wav",
                                    "wait": false
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "1.5"
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "boiling_oneshot.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "0.5"
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "stirring_oneshot.wav",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.playSoundEffect",
                                    "soundEffectName": "cork_bottle.wav",
                                    "wait": true
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.changeInventory",
                    "id": "84164923-c4c7-4b1f-ab71-8c412cc53e73",
                    "propId": "fed95bc7-7803-46cc-aa2a-1dc144d8d1d8",
                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                    "change": "1",
                    "count": 1,
                    "notify": true
                },
                {
                    "type": "nodes.wait",
                    "waitForSeconds": 1
                }
            ]
        }
    ]
}