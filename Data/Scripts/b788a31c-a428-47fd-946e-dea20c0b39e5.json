{
    "type": "script",
    "id": "b788a31c-a428-47fd-946e-dea20c0b39e5",
    "name": "_Dining Hall Enter",
    "sceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
    "trigger": {
        "type": "triggers.enter",
        "name": "Enter"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                "scopeFilterId": null,
                                "tags": "PlayTerkAfterDinner",
                                "has": true
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "920ae7e4-81f0-4a2b-bd11-d80e1321784f",
                                    "scope": "scene",
                                    "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "scopeFilterId": null,
                                    "tagsToRemove": "PlayTerkAfterDinner"
                                },
                                {
                                    "type": "nodes.playMusic",
                                    "musicTrack": "Terks_theme_wip.mp3",
                                    "channel": "1",
                                    "loopType": "1"
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "6b13a7ba-d170-4e64-a09d-8387ab803724",
                                    "scriptId": "ee7ccc34-5002-4aea-9473-a6659c41b6f8",
                                    "entryPointId": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "b14f7093-93ef-4917-8089-21136eb619cc",
                                    "scriptId": "4365d2c5-f935-411c-a2a6-7510a4121239",
                                    "entryPointId": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                "scopeFilterId": null,
                                "tags": "PirateTalkTime",
                                "has": true
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "8f929fe9-4e66-45c0-96d2-74f6710bc4ed",
                                    "scope": "scene",
                                    "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "scopeFilterId": null,
                                    "tagsToRemove": "PirateTalkTime"
                                },
                                {
                                    "type": "nodes.playMusic",
                                    "musicTrack": "Incidental 1.mp3",
                                    "channel": "1",
                                    "loopType": "1"
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "a672fe8c-a897-4243-9743-fdd1bf9b4613",
                                    "scriptId": "ab145714-69d1-45e6-acbb-fb21f9a8f4c9",
                                    "entryPointId": "",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "a1650cf6-9c17-4f76-b57e-a8759f48d6ea",
                                    "scriptId": "4365d2c5-f935-411c-a2a6-7510a4121239",
                                    "entryPointId": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "gte",
                                    "compareTo": "17",
                                    "sceneId": null,
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "lt",
                                    "compareTo": "19",
                                    "sceneId": null,
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.comment",
                                    "message": "TODO: The 5pm time is also referenced in the Hungry timer on _StartScene; needs to be changed in both places.",
                                    "commentor": "Cidney"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "scene",
                                                "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                                "scopeFilterId": null,
                                                "tags": "DinnerServed",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.trace",
                                                    "message": "Teleporting to Dinnertime"
                                                },
                                                {
                                                    "type": "nodes.setTime",
                                                    "id": "ec243529-aef7-410a-9b65-f46084ca0ac4",
                                                    "day": "-1",
                                                    "hour": "18",
                                                    "minute": "0",
                                                    "notify": false
                                                },
                                                {
                                                    "type": "nodes.changeScene",
                                                    "sceneId": "a8efa640-212a-4108-8251-612933f66abc",
                                                    "spawnId": null,
                                                    "fadeTime": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "scopeFilterId": null,
                                    "tags": "DinnerServed",
                                    "has": false
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "gte",
                                    "compareTo": "19",
                                    "sceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "1b6e808c-5b2f-495d-b221-55c1ea662fd2",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Oh no! I missed dinner and I'm starving!",
                                    "emotion": "4",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.nodeCycle",
                                    "id": "76ba617b-f9e0-4881-bc4a-522cdb1e69ab",
                                    "nodes": [
                                        {
                                            "type": "nodes.speak",
                                            "id": "f08394f3-71a0-42f0-82c9-b0e8de36d124",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "actorId2": null,
                                            "text": "You know what they say, \"Call me anything, but don't call me late for supper.\" Well, I'm late for supper tonight.",
                                            "emotion": "2",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        },
                                        {
                                            "type": "nodes.speak",
                                            "id": "ccff5da3-be65-49cb-9d56-74aebd5dbfd7",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "actorId2": null,
                                            "text": "I could go down into the Wine Cellar, but somehow the Drat Part diet doesn't appeal to me.",
                                            "emotion": "2",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        },
                                        {
                                            "type": "nodes.speak",
                                            "id": "3ffa2621-83a3-4866-9945-929ec3aeeb14",
                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                            "actorId2": null,
                                            "text": "I wonder if Aeolus has anything to eat. Then again, if he dropped food into one of his junk piles, I'd rather not know.",
                                            "emotion": "2",
                                            "emotion2": "0",
                                            "device": "0",
                                            "device2": "0"
                                        }
                                    ]
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.actorPresent",
                                                "actorId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                                "hasNot": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "actor",
                                                                    "scopeId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                                                    "scopeFilterId": null,
                                                                    "tags": "HasGreetedShawn",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.variableComparison",
                                                                    "variableScope": "global",
                                                                    "variableName": "time.day",
                                                                    "operator": "lt",
                                                                    "compareTo": "24",
                                                                    "sceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                                                    "propId": null
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.invokeScript",
                                                                    "id": "26fec9e7-a600-4910-a250-761d0ee81fbf",
                                                                    "scriptId": "ab539c11-07ed-490a-a37f-3cc89f1354bc",
                                                                    "entryPointId": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
                                                                    "currentScope": "Scenes",
                                                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                                                    "currentActorId": null,
                                                                    "currentStoryEventId": null,
                                                                    "currentPropId": null
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "3de52e2f-dd78-4f4f-8e48-ef75aecbafcb",
                                                                    "actorId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                                                    "actorId2": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "text": "The kitchen be closed. Get yourself an apple if you can't wait until breakfast.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "lte",
                                    "compareTo": "10",
                                    "sceneId": null,
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "gte",
                                    "compareTo": "6",
                                    "sceneId": null,
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.comment",
                                    "message": "Breakfast events here",
                                    "commentor": "Corey"
                                },
                                {
                                    "type": "nodes.changeScene",
                                    "sceneId": "a8efa640-212a-4108-8251-612933f66abc",
                                    "spawnId": null,
                                    "fadeTime": "0"
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.actorPresent",
                                    "actorId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                    "hasNot": false
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.inTags",
                                        "scope": "actor",
                                        "scopeId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                        "scopeFilterId": null,
                                        "tags": "HasGreetedShawn",
                                        "has": false
                                    },
                                    "right": {
                                        "type": "expressions.variableComparison",
                                        "variableScope": "global",
                                        "variableName": "time.day",
                                        "operator": "lt",
                                        "compareTo": "24",
                                        "sceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                        "propId": null
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "dabc0b74-4d86-4d6f-bad3-89d2a28751d7",
                                    "scriptId": "ab539c11-07ed-490a-a37f-3cc89f1354bc",
                                    "entryPointId": "f9bbd26b-aa06-49f5-a846-af5de913adf0",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "bf8b9872-cbdd-47c6-997c-1cd3ad91bc1e",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.invokeScript",
                    "id": "7fe0fbcb-9d06-4dfd-9dd0-9bf2caf0621d",
                    "scriptId": "b788a31c-a428-47fd-946e-dea20c0b39e5",
                    "entryPointId": "48371af6-6279-491d-a0e9-a4b5c3ce72a0",
                    "currentScope": "Current",
                    "currentSceneId": null,
                    "currentActorId": null,
                    "currentStoryEventId": null,
                    "currentPropId": null
                }
            ]
        },
        {
            "type": "scripts.entryPoint",
            "id": "48371af6-6279-491d-a0e9-a4b5c3ce72a0",
            "name": "Ifetaya Gifts",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.or",
                                "left": {
                                    "type": "expressions.inInventory",
                                    "propId": "13351bce-2263-456d-8387-f85cb9af24c4",
                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.or",
                                    "left": {
                                        "type": "expressions.inInventory",
                                        "propId": "1079772f-9fbf-4dad-b7a4-acea22601a60",
                                        "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                        "has": true
                                    },
                                    "right": {
                                        "type": "expressions.or",
                                        "left": {
                                            "type": "expressions.inInventory",
                                            "propId": "91aa49b0-490a-4448-967d-d97387a985bb",
                                            "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                            "has": true
                                        },
                                        "right": {
                                            "type": "expressions.inInventory",
                                            "propId": "a6bcab19-4d98-46ab-8fe6-52a4d3761dd4",
                                            "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                            "has": true
                                        }
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "0f19fee5-a298-4601-9393-50f948d3fd6b",
                                    "scope": "actor",
                                    "scopeId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "GotKinahGift",
                                    "tagsToRemove": null
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inInventory",
                                    "propId": "6b99d059-b486-4547-abbc-8b3169478a39",
                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "actor",
                                    "scopeId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                    "scopeFilterId": null,
                                    "tags": "RoseGiftToday",
                                    "has": false
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "a9e6cb9f-4ca6-4c6b-9bb8-fc7fa1363e42",
                                    "scope": "actor",
                                    "scopeId": "a0b548d6-b820-451f-9508-8fc7fcf166bd",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "GotKinahGift",
                                    "tagsToRemove": null
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}