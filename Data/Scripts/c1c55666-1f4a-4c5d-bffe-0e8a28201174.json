{
    "type": "script",
    "id": "c1c55666-1f4a-4c5d-bffe-0e8a28201174",
    "name": "Interact Chest F",
    "sceneId": "cbb5c07c-7918-4558-8c19-e4ed45b19ba2",
    "propId": "d30e1d4b-478f-43cc-9ea9-daed93098548",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "cffad5c7-ab8e-4d30-97dc-aa81ab9878a4",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.onceOnly",
                    "id": "778176b0-7e40-4d35-ade1-4b20becd4346",
                    "nodes": [
                        {
                            "type": "nodes.changeTags",
                            "id": "26f70386-33b9-4437-a062-f1634e5e90fb",
                            "scope": "target",
                            "scopeId": null,
                            "scopeFilterId": null,
                            "tagsToAdd": "Locked",
                            "tagsToRemove": null
                        }
                    ]
                },
                {
                    "type": "nodes.showMenu",
                    "id": "f7539b00-4423-407a-8395-8a096049b727",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "6bd9158a-ab8c-4a48-bd47-4dc96af668dd",
                            "text": "Examine the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "TookItAll",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "422637b3-273c-4b28-b5aa-60e121d8924e",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "This looks like another of the offering chests that people leave here. It's really nice of them to offer it to me.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "5b69025e-1171-455a-9511-e4a4bdc97f5d",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Empty.",
                                                    "emotion": "2",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "969f72e9-f15e-413a-8cd1-0007297fb6ab",
                            "text": "Take the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "eba7e6c3-7a9a-48a0-bb46-49b6fee05d6e",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "I need a lot of things in my life, but this chest isn't one of them.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "2",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "df3c2319-a083-4dde-ac81-591bf63866c9",
                            "text": "Open the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "Locked",
                                                "has": true
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.variableComparison",
                                                                "variableScope": "global",
                                                                "variableName": "ego.haslockpick",
                                                                "operator": "eq",
                                                                "compareTo": "true",
                                                                "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                                                "propId": null
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "6c5bc667-8552-41db-9c4e-820c397e6c23",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Let's see about unlocking this thing.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelDown",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "id": "f3c98ec3-2c2b-449d-93a1-744a65a529c6",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Tool Use",
                                                                    "target": "40",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_success.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "76d775ae-e2b4-45e7-96a7-053c31146aef",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "No problemo.",
                                                                                "emotion": "1",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            },
                                                                            {
                                                                                "type": "nodes.changeTags",
                                                                                "id": "889336fe-4a47-4e60-965e-beddbc7d0171",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tagsToRemove": "locked"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.playSoundEffect",
                                                                                "soundEffectName": "lockpick_failure.wav",
                                                                                "wait": true
                                                                            },
                                                                            {
                                                                                "type": "nodes.speak",
                                                                                "id": "866230b8-d7b7-4aac-a287-2edf84447513",
                                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                "actorId2": null,
                                                                                "text": "Stupid lock.",
                                                                                "emotion": "3",
                                                                                "emotion2": "0",
                                                                                "device": "0",
                                                                                "device2": "0"
                                                                            }
                                                                        ]
                                                                    },
                                                                    "notify": true
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelUp",
                                                                    "wait": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "0b7d8c4f-e0de-453d-986b-7ca5d46d444d",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Trouble is, I don't have anything suitable for that.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.or",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.or",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": false
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": false
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "1a8d6493-1ab8-474a-b8b6-6749c0e968d6",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Now, let's see what's hiding inside this thing...",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "bece9752-8b37-4795-9dcc-ab11b858057a",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "What? This looks dangerous.",
                                                                    "emotion": "4",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.showMenu",
                                                                    "id": "0ec8bbaf-5e12-4fb3-904c-3c309ae4b48c",
                                                                    "options": [
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "94d6ef9c-4ede-4a74-b2b5-76c069e53894",
                                                                            "text": "Take Big Booms",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.showCloseUp",
                                                                                    "imageName": "CU_BigBoom.png"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "6e88a263-6b1c-43cd-abd7-79ad4964d654",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "Okay, a couple of Big Booms. Nice if you want to blow something up, I guess.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "b23b2d63-f5e1-4e1e-b50d-fd545f71e1b2",
                                                                                    "propId": "155838d4-c048-4ef4-bc68-1652a785e789",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "2",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "8db308e7-0941-4a31-8b9c-ec099a9b47c2",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item1_taken",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.hideCloseUp",
                                                                                    "waitForSeconds": 1
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item1_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "3",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "187a4f80-e445-4766-a37f-a8c839219152",
                                                                            "text": "Take Flambe",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.showCloseUp",
                                                                                    "imageName": "CU_Flambe.png"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "5128985f-65c3-4009-9057-bdb6ebfcb4a6",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "A Flambe! Fire bombs and Booms... guess someone had a grudge against something.",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeInventory",
                                                                                    "id": "da274912-629a-49aa-9527-c18f099305be",
                                                                                    "propId": "98432bd0-5252-4bce-a90a-c9243902be62",
                                                                                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                                    "change": "1",
                                                                                    "count": "1",
                                                                                    "notify": true
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "1d386c9d-6aea-43f1-8247-714b24fe1f45",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item2_taken",
                                                                                    "tagsToRemove": null
                                                                                },
                                                                                {
                                                                                    "type": "nodes.hideCloseUp",
                                                                                    "waitForSeconds": 1
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item2_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "3",
                                                                            "ExitMenu": false
                                                                        },
                                                                        {
                                                                            "type": "options.text",
                                                                            "id": "079270f8-336b-409a-a436-4558d6c3c5a1",
                                                                            "text": "Take Lyra",
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.speak",
                                                                                    "id": "ba81fe88-1c49-4002-bc08-4cd674486859",
                                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                                    "actorId2": null,
                                                                                    "text": "Just eight coins in the bottle of this chest...",
                                                                                    "emotion": "0",
                                                                                    "emotion2": "0",
                                                                                    "device": "0",
                                                                                    "device2": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeMoney",
                                                                                    "id": "02d2d9a9-b90b-4f0f-b96b-182285353552",
                                                                                    "amount": "8",
                                                                                    "change": "1",
                                                                                    "currency": "0"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.changeTags",
                                                                                    "id": "0eb0b789-8c4e-4756-a1b4-fba7537f3f96",
                                                                                    "scope": "target",
                                                                                    "scopeId": null,
                                                                                    "scopeFilterId": null,
                                                                                    "tagsToAdd": "item3_taken",
                                                                                    "tagsToRemove": null
                                                                                }
                                                                            ],
                                                                            "expression": {
                                                                                "type": "expressions.inTags",
                                                                                "scope": "target",
                                                                                "scopeId": null,
                                                                                "scopeFilterId": null,
                                                                                "tags": "item3_taken",
                                                                                "has": false
                                                                            },
                                                                            "ignoreChildAvailability": false,
                                                                            "minutes": "5",
                                                                            "ExitMenu": false
                                                                        }
                                                                    ],
                                                                    "AutoAddDone": true,
                                                                    "Unique": false
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "aaf12dbf-e91f-4902-b4f7-3182abe17a5a",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "That's it, this is now an empty chest.",
                                                                    "emotion": "2",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tags": "item1_taken",
                                                                    "has": true
                                                                },
                                                                "right": {
                                                                    "type": "expressions.and",
                                                                    "left": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item2_taken",
                                                                        "has": true
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.inTags",
                                                                        "scope": "target",
                                                                        "scopeId": null,
                                                                        "scopeFilterId": null,
                                                                        "tags": "item3_taken",
                                                                        "has": true
                                                                    }
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "b6697537-d67a-474e-9204-c7c0cfffa603",
                                                                    "scope": "prop",
                                                                    "scopeId": "d30e1d4b-478f-43cc-9ea9-daed93098548",
                                                                    "scopeFilterId": "cbb5c07c-7918-4558-8c19-e4ed45b19ba2",
                                                                    "tagsToAdd": "looted,TookItAll",
                                                                    "tagsToRemove": null
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "84441213-71a5-4068-b639-9327bea18b75",
                            "text": "Sense Magic on the Chest",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "4beccfd5-65f6-46b6-8ca1-28ca023cb522",
                                    "scriptId": "533e1ce1-13d3-439f-8544-dbdf808d30c4",
                                    "entryPointId": "377c5f46-0bc8-4a01-9909-8ae86d1570ba",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}