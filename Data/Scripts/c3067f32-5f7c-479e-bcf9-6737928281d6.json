{
    "type": "script",
    "id": "c3067f32-5f7c-479e-bcf9-6737928281d6",
    "name": "OnKilledByEgo",
    "actorId": "53707249-ebd2-4b1a-b71b-f8ac943c7d9c",
    "trigger": {
        "type": "triggers.killedByEgo",
        "name": "KilledByEgo"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "bd9aed17-948f-49ca-aae2-afeec8c158ca",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.comment",
                    "message": "This script gets called each time the Stone Golem is damaged (even if not dead)",
                    "commentor": "Joshua"
                },
                {
                    "type": "nodes.setVariable",
                    "name": "golem_hit",
                    "scope": "script",
                    "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                    "source": {
                        "type": "variables.literal",
                        "value": "1",
                        "notes": "",
                        "displayName": "Literal"
                    },
                    "add": true
                },
                {
                    "type": "nodes.stopPlayer"
                },
                {
                    "type": "nodes.onceOnly",
                    "id": "3d078b55-6bf7-473f-8f38-b87c33e25afe",
                    "nodes": [
                        {
                            "type": "nodes.speak",
                            "id": "c90d6bed-6d62-47ab-81d6-847e53d6d866",
                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                            "actorId2": null,
                            "text": "Okay, Big Boom, I'm counting on you!",
                            "emotion": "0",
                            "emotion2": "0",
                            "device": "0",
                            "device2": "0",
                            "notes": ""
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.variableComparison",
                                "variableScope": "script",
                                "variableName": "golem_hit",
                                "operator": "eq",
                                "compareTo": "3",
                                "sceneId": null,
                                "propId": null
                            },
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "52e9ae98-7aec-4fae-bf39-0fff5d94c76e",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Yes! The bigger they are, the harder they crumble into tiny bits.",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                },
                                {
                                    "type": "nodes.playMusic",
                                    "musicTrack": "silence.ogg",
                                    "channel": "2",
                                    "loopType": "1"
                                },
                                {
                                    "type": "nodes.playMusic",
                                    "musicTrack": "silence.ogg",
                                    "channel": "1",
                                    "loopType": "2"
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "51dc799d-44a7-4cb4-bbbf-adaef158b933",
                                    "scope": "actor",
                                    "scopeId": "53707249-ebd2-4b1a-b71b-f8ac943c7d9c",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "defeated",
                                    "tagsToRemove": null
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeOut",
                                    "fadeTime": "1",
                                    "fadeTime2": 2,
                                    "wait": true,
                                    "fadeDown": 1,
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.showVignette",
                                    "vignetteName": "Golem_ShawnDefeatsGolem.png",
                                    "crossFadeTime": 0
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeIn",
                                    "fadeTime": "1",
                                    "fadeTime2": "0.5",
                                    "wait": true,
                                    "fadeDown": "0.25",
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": "2"
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "c3f9f488-f6b9-46bf-a13e-171683660860",
                                    "actorId": "38b1ca94-de8c-4873-8810-3d0b02df469a",
                                    "actorId2": null,
                                    "text": "Golem guard this dungeon tomb\nGolem chase Shawn round the room\nGolem want to bring Shawn doom\nBut Shawn make Golem - go boom!",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                },
                                {
                                    "type": "nodes.wait",
                                    "waitForSeconds": 1
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeOut",
                                    "fadeTime": "1",
                                    "fadeTime2": 2,
                                    "wait": true,
                                    "fadeDown": 1,
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                },
                                {
                                    "type": "nodes.hideVignette",
                                    "waitForSeconds": 1
                                },
                                {
                                    "type": "nodes.fade",
                                    "scope": "FadeIn",
                                    "fadeTime": "1",
                                    "fadeTime2": "0.5",
                                    "wait": true,
                                    "fadeDown": "0.25",
                                    "fadeColorR": 0,
                                    "fadeColorG": 0,
                                    "fadeColorB": 0
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.variableComparison",
                                "variableScope": "script",
                                "variableName": "golem_hit",
                                "operator": "eq",
                                "compareTo": "2",
                                "sceneId": null,
                                "propId": null
                            },
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "192a7cbf-9d87-4eb4-9ae4-501f7f86b004",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "There, got him! Lured him right in!",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "66a1a6d2-5d72-43ae-b347-5e547016907a",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Oh no! He just keeps on coming.",
                                    "emotion": "2",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.variableComparison",
                                "variableScope": "script",
                                "variableName": "golem_hit",
                                "operator": "eq",
                                "compareTo": "1",
                                "sceneId": null,
                                "propId": null
                            },
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "1f8894e8-9b5b-4042-8ce5-68005b7cfa52",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Yes! One Big Boom for the Golem.",
                                    "emotion": "1",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "ee3799f5-8b9a-4e7f-94e0-7d0b5ecfaf0a",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Wait. He's still coming at me!",
                                    "emotion": "6",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0",
                                    "notes": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}