{
    "type": "script",
    "id": "d8ca8e77-d487-442a-89bb-958517f998cd",
    "name": "_onLoad RogueClassroom",
    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
    "trigger": {
        "type": "triggers.load",
        "name": "Load"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "b0e7ee11-5e20-4f26-bda9-bd518be9c8b1",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.comment",
                    "message": "This is a patch to fix the sometimes 'empty classroom' bug",
                    "commentor": "Joshua"
                },
                {
                    "type": "nodes.comment",
                    "message": "Make sure this is the very first command to execute",
                    "commentor": "Joshua"
                },
                {
                    "type": "nodes.invokeCommand",
                    "id": "24c07f88-03f9-4833-92e5-11b99a4741e3",
                    "entityType": "actor",
                    "entityId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                    "command": "hack_patch_reset_day",
                    "wait": true,
                    "resultVariableScope": "script"
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                "scopeFilterId": null,
                                "tags": "hasmet",
                                "has": false
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changeTags",
                                    "id": "8aa2253f-72df-4320-ba60-a08b639ce933",
                                    "scope": "actor",
                                    "scopeId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                    "scopeFilterId": null,
                                    "tagsToAdd": "hasMet",
                                    "tagsToRemove": null
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.day",
                                    "operator": "gte",
                                    "compareTo": "29",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.inTags",
                                    "scope": "scene",
                                    "scopeId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "scopeFilterId": null,
                                    "tags": "GotStationery",
                                    "has": false
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "4fca3644-f62b-4e44-9a8c-76faa7fe4a10",
                                    "propId": "dec18ea4-a8d7-4a78-9498-c67652ed3923",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "status": "Visible",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "6d823c9e-e452-467e-99cf-2c4db1f43414",
                                    "propId": "dec18ea4-a8d7-4a78-9498-c67652ed3923",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.day",
                                    "operator": "eq",
                                    "compareTo": "12",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "gte",
                                    "compareTo": "6",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "fe482329-5b06-456c-b42e-7628f2322116",
                                    "propId": "81ffdc50-3007-4d62-bfaf-449f5cb4368e",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "visible": false,
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.day",
                                    "operator": "gte",
                                    "compareTo": "13",
                                    "sceneId": null,
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.day",
                                    "operator": "lte",
                                    "compareTo": "15",
                                    "sceneId": null,
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "c31fdf74-6eb7-4c24-80a8-d2f5eb501ad0",
                                    "propId": "81ffdc50-3007-4d62-bfaf-449f5cb4368e",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "visible": false,
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.day",
                                    "operator": "eq",
                                    "compareTo": "16",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "lte",
                                    "compareTo": "10",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "82af018a-cf87-4e6c-830e-372590880064",
                                    "propId": "81ffdc50-3007-4d62-bfaf-449f5cb4368e",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "visible": false,
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "1591cdfb-82c2-4f5d-b3ec-3d03313c9104",
                                    "propId": "81ffdc50-3007-4d62-bfaf-449f5cb4368e",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "status": "Visible",
                                    "wait": false
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.enteredScene",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "scope": "DuringCurrentEvent",
                                    "operator": "eq",
                                    "count": "0"
                                },
                                "right": {
                                    "type": "expressions.variableComparison",
                                    "variableScope": "global",
                                    "variableName": "time.hour",
                                    "operator": "gte",
                                    "compareTo": "6",
                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                    "propId": null
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.trace",
                                    "message": "Loading Rogue Classroom"
                                },
                                {
                                    "type": "nodes.changeTags",
                                    "id": "b36b7348-80a2-49d7-9f3d-971ef9892c4a",
                                    "scope": "actor",
                                    "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "scopeFilterId": null,
                                    "tagsToRemove": "duringClassroomBreakin"
                                },
                                {
                                    "type": "nodes.comment",
                                    "message": "Don't spawn NPCs on days off",
                                    "commentor": "Joshua"
                                },
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.variableComparison",
                                                    "variableScope": "global",
                                                    "variableName": "Time.Day",
                                                    "operator": "ne",
                                                    "compareTo": "0",
                                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                    "propId": null
                                                },
                                                "right": {
                                                    "type": "expressions.and",
                                                    "left": {
                                                        "type": "expressions.variableComparison",
                                                        "variableScope": "global",
                                                        "variableName": "Time.Day",
                                                        "operator": "ne",
                                                        "compareTo": "8",
                                                        "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                        "propId": null
                                                    },
                                                    "right": {
                                                        "type": "expressions.and",
                                                        "left": {
                                                            "type": "expressions.variableComparison",
                                                            "variableScope": "global",
                                                            "variableName": "Time.Day",
                                                            "operator": "ne",
                                                            "compareTo": "15",
                                                            "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                            "propId": null
                                                        },
                                                        "right": {
                                                            "type": "expressions.and",
                                                            "left": {
                                                                "type": "expressions.variableComparison",
                                                                "variableScope": "global",
                                                                "variableName": "Time.Day",
                                                                "operator": "ne",
                                                                "compareTo": "19",
                                                                "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                "propId": null
                                                            },
                                                            "right": {
                                                                "type": "expressions.and",
                                                                "left": {
                                                                    "type": "expressions.variableComparison",
                                                                    "variableScope": "global",
                                                                    "variableName": "Time.Day",
                                                                    "operator": "ne",
                                                                    "compareTo": "25",
                                                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                    "propId": null
                                                                },
                                                                "right": {
                                                                    "type": "expressions.and",
                                                                    "left": {
                                                                        "type": "expressions.variableComparison",
                                                                        "variableScope": "global",
                                                                        "variableName": "Time.Day",
                                                                        "operator": "ne",
                                                                        "compareTo": "26",
                                                                        "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                        "propId": null
                                                                    },
                                                                    "right": {
                                                                        "type": "expressions.and",
                                                                        "left": {
                                                                            "type": "expressions.variableComparison",
                                                                            "variableScope": "global",
                                                                            "variableName": "Time.Day",
                                                                            "operator": "ne",
                                                                            "compareTo": "27",
                                                                            "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                            "propId": null
                                                                        },
                                                                        "right": {
                                                                            "type": "expressions.and",
                                                                            "left": {
                                                                                "type": "expressions.variableComparison",
                                                                                "variableScope": "global",
                                                                                "variableName": "Time.Day",
                                                                                "operator": "ne",
                                                                                "compareTo": "38",
                                                                                "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                                "propId": null
                                                                            },
                                                                            "right": {
                                                                                "type": "expressions.variableComparison",
                                                                                "variableScope": "global",
                                                                                "variableName": "Time.Day",
                                                                                "operator": "ne",
                                                                                "compareTo": "44",
                                                                                "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                                "propId": null
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.variableComparison",
                                                                "variableScope": "global",
                                                                "variableName": "Time.Day",
                                                                "operator": "eq",
                                                                "compareTo": "42",
                                                                "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                "propId": null
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.placeActor",
                                                                    "actorId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "spawnId": "dd0988b8-4c0b-4c7e-8811-8b96604a96ae",
                                                                    "pose": null,
                                                                    "behaviour": "Idle",
                                                                    "immediate": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.placeActor",
                                                                    "actorId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "spawnId": "32207c94-bfca-413f-91b7-74b5541a7ea8",
                                                                    "pose": null,
                                                                    "behaviour": "Idle",
                                                                    "immediate": true
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.trace",
                                                    "message": "Placing NPCs in Scene."
                                                },
                                                {
                                                    "type": "nodes.placeActor",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "spawnId": "1af9bf5f-e86c-4f94-ad23-271816cddebf",
                                                    "pose": "seated",
                                                    "behaviour": "SittingDesk",
                                                    "immediate": true
                                                },
                                                {
                                                    "type": "nodes.placeActor",
                                                    "actorId": "2ae7a408-9338-4b78-af6b-ba7a28e050ac",
                                                    "spawnId": "66390603-65bb-4acd-9212-bdafae4ec388",
                                                    "pose": "seated",
                                                    "behaviour": "SittingDesk",
                                                    "immediate": true
                                                },
                                                {
                                                    "type": "nodes.placeActor",
                                                    "actorId": "0b49e2c8-5b7f-4534-bd10-21a0a36a6cbe",
                                                    "spawnId": "a6df62f9-d7bf-49ce-a5e3-edd36696d89b",
                                                    "pose": "seated",
                                                    "behaviour": "SittingDesk",
                                                    "immediate": true
                                                },
                                                {
                                                    "type": "nodes.placeActor",
                                                    "actorId": "98ea49aa-86cf-4fa9-9bd5-6aa2fe7c809d",
                                                    "spawnId": "cfca472a-570c-4be2-9ab1-1427d4920cce",
                                                    "pose": "sitting",
                                                    "behaviour": "SittingDesk",
                                                    "immediate": true
                                                },
                                                {
                                                    "type": "nodes.placeActor",
                                                    "actorId": "bdddd1b1-bbf3-4dd5-bbd6-0ef3115d8b66",
                                                    "spawnId": "811b5d7d-2332-4f98-9726-bd2ca22767ce",
                                                    "pose": "seated",
                                                    "behaviour": "SittingDesk",
                                                    "immediate": true
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.or",
                                                                "left": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "actor",
                                                                    "scopeId": "4b05c425-ca25-4abb-9a36-7d793370842f",
                                                                    "scopeFilterId": null,
                                                                    "tags": "KyroMissing",
                                                                    "has": false
                                                                },
                                                                "right": {
                                                                    "type": "expressions.inTags",
                                                                    "scope": "actor",
                                                                    "scopeId": "4b05c425-ca25-4abb-9a36-7d793370842f",
                                                                    "scopeFilterId": null,
                                                                    "tags": "KyroSaved",
                                                                    "has": true
                                                                }
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.branch",
                                                                    "sections": [
                                                                        {
                                                                            "type": "nodes.branchSection",
                                                                            "expression": {
                                                                                "type": "expressions.and",
                                                                                "left": {
                                                                                    "type": "expressions.variableComparison",
                                                                                    "variableScope": "global",
                                                                                    "variableName": "time.day",
                                                                                    "operator": "ne",
                                                                                    "compareTo": "33",
                                                                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                                    "propId": null
                                                                                },
                                                                                "right": {
                                                                                    "type": "expressions.variableComparison",
                                                                                    "variableScope": "global",
                                                                                    "variableName": "time.day",
                                                                                    "operator": "ne",
                                                                                    "compareTo": "34",
                                                                                    "sceneId": "ea6c0ba0-0d23-4c0d-80ed-b8611588a665",
                                                                                    "propId": null
                                                                                }
                                                                            },
                                                                            "nodes": [
                                                                                {
                                                                                    "type": "nodes.comment",
                                                                                    "message": "Joel should be in the infirmary on Days 33 and 34 if he survived the Catacombs.",
                                                                                    "commentor": "Cidney"
                                                                                },
                                                                                {
                                                                                    "type": "nodes.placeActor",
                                                                                    "actorId": "4b05c425-ca25-4abb-9a36-7d793370842f",
                                                                                    "spawnId": "671a7698-0b51-4025-bc36-1e4771fb0377",
                                                                                    "pose": "seated",
                                                                                    "behaviour": "SittingDesk",
                                                                                    "immediate": true
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inEvent",
                                                                "eventId": "62c80bd1-3d98-4e9e-86c0-2ee4c6d3a927"
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.placeActor",
                                                                    "actorId": "5ffe0a3d-d152-412f-bc75-480092ca6256",
                                                                    "spawnId": "ad3e0e2a-53ea-4107-9a53-c7542ffa71c9",
                                                                    "pose": null,
                                                                    "behaviour": "Idle",
                                                                    "immediate": true
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.trace",
                                    "message": "Entered Scene During Current Event Greater than 0 times."
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}