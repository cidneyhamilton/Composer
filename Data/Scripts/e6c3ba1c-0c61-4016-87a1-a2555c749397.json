{
    "type": "script",
    "id": "e6c3ba1c-0c61-4016-87a1-a2555c749397",
    "name": "_OnLoad",
    "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
    "trigger": {
        "type": "triggers.load",
        "name": "Load"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "fba4a2ce-3d00-48dc-8a0d-f5fb38c02def",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.onceOnly",
                    "id": "b18b0f17-4452-4f58-9100-ea1129c1a528",
                    "nodes": [
                        {
                            "type": "nodes.comment",
                            "message": "New once only node to set these values to be non-random at the start",
                            "commentor": "Joshua"
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "mineral_respawn",
                            "scope": "prop",
                            "scopeId": "12608351-5811-44e8-9f7f-51896926cb7f",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "1",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "mineral_count",
                            "scope": "prop",
                            "scopeId": "12608351-5811-44e8-9f7f-51896926cb7f",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "2",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "respawn_timer",
                            "scope": "prop",
                            "scopeId": "25f93084-c534-46a1-937f-ae29f47fdc11",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "1",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "respawn_timer",
                            "scope": "prop",
                            "scopeId": "55682d32-2ae5-412e-a62a-e54ddc4c1b25",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "1",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "respawn_timer",
                            "scope": "prop",
                            "scopeId": "434a2497-7543-4907-9206-6eadf9776aa3",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "1",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.setVariable",
                            "name": "respawn_timer",
                            "scope": "prop",
                            "scopeId": "5a4bcfa2-0470-4d08-b1b2-5d8e76cc7b53",
                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "source": {
                                "type": "variables.literal",
                                "value": "1",
                                "displayName": "Literal"
                            },
                            "add": false
                        },
                        {
                            "type": "nodes.invokeScript",
                            "id": "4044ddb4-aad1-44ff-8cab-3b738a127a4d",
                            "scriptId": "6432cb45-a68c-4e85-8ce9-d24947a3cabc",
                            "entryPointId": "43cabf4a-1003-4d8c-ae66-9885076e59f1",
                            "currentScope": "Scenes",
                            "currentSceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                            "currentActorId": null,
                            "currentStoryEventId": null,
                            "currentPropId": null
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.and",
                                "left": {
                                    "type": "expressions.inTags",
                                    "scope": "actor",
                                    "scopeId": "0b49e2c8-5b7f-4534-bd10-21a0a36a6cbe",
                                    "scopeFilterId": null,
                                    "tags": "DateWithKatie",
                                    "has": true
                                },
                                "right": {
                                    "type": "expressions.and",
                                    "left": {
                                        "type": "expressions.inTags",
                                        "scope": "actor",
                                        "scopeId": "0b49e2c8-5b7f-4534-bd10-21a0a36a6cbe",
                                        "scopeFilterId": null,
                                        "tags": "Dated",
                                        "has": false
                                    },
                                    "right": {
                                        "type": "expressions.variableComparison",
                                        "variableScope": "global",
                                        "variableName": "time.day",
                                        "operator": "eq",
                                        "compareTo": "44",
                                        "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                        "propId": null
                                    }
                                }
                            },
                            "nodes": [
                                {
                                    "type": "nodes.placeActor",
                                    "actorId": "0b49e2c8-5b7f-4534-bd10-21a0a36a6cbe",
                                    "spawnId": "b3c72d1f-6193-4198-ae8a-d00534917df6",
                                    "pose": null,
                                    "behaviour": "Idle",
                                    "immediate": true
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "46c58bc7-e4b0-4cf3-af42-68930aa03476",
                                "scopeFilterId": null,
                                "tags": "SCC_R1_Hidden",
                                "has": true
                            },
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "40e555de-faa7-49cf-aec4-f7df033de206",
                                    "propId": "05f3ac56-50d5-463e-affc-e3f356c9ae34",
                                    "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                    "status": "Hidden",
                                    "wait": true
                                }
                            ]
                        },
                        {
                            "type": "nodes.branchSection",
                            "expression": null,
                            "nodes": [
                                {
                                    "type": "nodes.changePropVisibility",
                                    "id": "9d43752d-edf7-4151-977e-043167e6bfa9",
                                    "propId": "05f3ac56-50d5-463e-affc-e3f356c9ae34",
                                    "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                    "status": "Visible",
                                    "wait": true
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "nodes.onceDaily",
                    "id": "d7518bb4-0563-490b-8aa7-2b2b46589271",
                    "nodes": [
                        {
                            "type": "nodes.comment",
                            "message": "Once Daily to keep the chest from disappearing until a Reset Day occurs. Putting this here (rather than in \"onResetDay scripts) makes it easier to keep in sync with the SCC_*_Hidden tag setups.",
                            "commentor": "Charles"
                        },
                        {
                            "type": "nodes.branch",
                            "sections": [
                                {
                                    "type": "nodes.branchSection",
                                    "expression": {
                                        "type": "expressions.inTags",
                                        "scope": "prop",
                                        "scopeId": "05f3ac56-50d5-463e-affc-e3f356c9ae34",
                                        "scopeFilterId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                        "tags": "looted",
                                        "has": true
                                    },
                                    "nodes": [
                                        {
                                            "type": "nodes.changePropVisibility",
                                            "id": "0a0d208d-09c3-4b75-a745-5e26f57f0bdd",
                                            "propId": "05f3ac56-50d5-463e-affc-e3f356c9ae34",
                                            "sceneId": "c7f12eb6-9936-4c11-8028-d012d60c9ba3",
                                            "status": "Hidden",
                                            "wait": true
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}