{
    "type": "script",
    "id": "ea10ff81-5120-46cf-a1b3-a77ad82a50e0",
    "name": "Interact with Slant-top Chest",
    "sceneId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
    "propId": "ec5096b9-1166-468b-8ef1-18d9a94007c8",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "021aba91-4142-4bdb-9bcb-ea8ad1b264ae",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.branch",
                    "sections": [
                        {
                            "type": "nodes.branchSection",
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "scene",
                                "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                "scopeFilterId": null,
                                "tags": "GerhardRevealed",
                                "has": false
                            },
                            "nodes": [
                                {
                                    "type": "nodes.showMenu",
                                    "id": "5d333d38-b937-4521-8579-970013c04a7f",
                                    "options": [
                                        {
                                            "type": "options.text",
                                            "id": "e404da93-59aa-4545-9171-218b39ec5e48",
                                            "text": "Examine the Chest",
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "scene",
                                                                "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                "scopeFilterId": null,
                                                                "tags": "GerhardPresent",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "01c96f16-41c4-4dad-8c2a-2819391f7b5c",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "text": "This chest looks old and out of place here. Why do you keep it?",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "da1d921f-ba36-42c1-872e-9fa93ed57054",
                                                                    "actorId": "b7cbd02d-8e2f-4a8d-99a7-02b132d86e1d",
                                                                    "actorId2": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "text": "I've had that chest from my days in the Urwald army. It's useful for storing odds and ends.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "prop",
                                                                "scopeId": "ec5096b9-1166-468b-8ef1-18d9a94007c8",
                                                                "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                "tags": "locked",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "d981ead5-d6d0-43ac-8651-f666e74c4629",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "It's locked with a Wolfe class lock. Shouldn't be that hard to open...",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "d108c66a-99eb-46a2-9a04-ea1a7e47f10b",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "This chest looks even older than the Master!",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "expression": null,
                                            "ignoreChildAvailability": false,
                                            "minutes": "3",
                                            "ExitMenu": false
                                        },
                                        {
                                            "type": "options.text",
                                            "id": "aa0d2024-c308-422e-8c64-d4be1d43cd84",
                                            "text": "Unlock the Chest",
                                            "nodes": [
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelDown",
                                                    "wait": true
                                                },
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inInventory",
                                                                "propId": "9660eaf9-ae37-4505-93e5-dcb351a96742",
                                                                "sceneId": "a2508b7e-a177-4a96-93bd-4d8ab88dffc4",
                                                                "has": true
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "b1ee7e0f-8508-4109-8f4a-6dcb315098f7",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Is the Magical Key still working? Yes!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "lockpick_success.wav",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "eea440e1-a14e-4f63-8dae-9974c42578a4",
                                                                    "scope": "prop",
                                                                    "scopeId": "ec5096b9-1166-468b-8ef1-18d9a94007c8",
                                                                    "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                                    "tagsToRemove": "locked"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "74bfa253-e5ac-4b7d-b276-4b0a2ed44acc",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "This should be a cinch.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "id": "3d3374b1-1201-43ce-9afe-1ec9d0c3d99f",
                                                                    "type": "nodes.skillBranch",
                                                                    "skill": "Tool Use",
                                                                    "target": "75",
                                                                    "success": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.invokeScript",
                                                                                "id": "aaeb83e5-4ce6-44db-ab1d-600a52cc9323",
                                                                                "scriptId": "f214e893-43e1-4ba8-bb48-5ad1177e61de",
                                                                                "entryPointId": "021aba91-4142-4bdb-9bcb-ea8ad1b264ae",
                                                                                "currentScope": "Scenes",
                                                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                                                "currentActorId": null,
                                                                                "currentStoryEventId": null,
                                                                                "currentPropId": null
                                                                            }
                                                                        ]
                                                                    },
                                                                    "failure": {
                                                                        "type": "nodes.block",
                                                                        "nodes": [
                                                                            {
                                                                                "type": "nodes.invokeScript",
                                                                                "id": "b1dae02e-7246-4419-91de-93fb7bd1edad",
                                                                                "scriptId": "c806f4c0-6bc6-471a-97ab-fc59190de6da",
                                                                                "entryPointId": "021aba91-4142-4bdb-9bcb-ea8ad1b264ae",
                                                                                "currentScope": "Scenes",
                                                                                "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                                                "currentActorId": null,
                                                                                "currentStoryEventId": null,
                                                                                "currentPropId": null
                                                                            }
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "KneelUp",
                                                    "wait": true
                                                }
                                            ],
                                            "expression": {
                                                "type": "expressions.and",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "scene",
                                                    "scopeId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                    "scopeFilterId": null,
                                                    "tags": "GerhardPresent",
                                                    "has": false
                                                },
                                                "right": {
                                                    "type": "expressions.inTags",
                                                    "scope": "prop",
                                                    "scopeId": "ec5096b9-1166-468b-8ef1-18d9a94007c8",
                                                    "scopeFilterId": "eceae806-6f55-4cde-b517-c73b1c924fd9",
                                                    "tags": "locked",
                                                    "has": true
                                                }
                                            },
                                            "ignoreChildAvailability": true,
                                            "minutes": "5",
                                            "ExitMenu": false
                                        },
                                        {
                                            "type": "options.text",
                                            "id": "bc2ba965-ca50-4ab2-9e25-c3e4d55956a6",
                                            "text": "Open the Chest",
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "target",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "locked",
                                                                "has": false
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelDown",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "842d105d-db7a-4161-8caa-6825e096ba7b",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Sigh... the chest is filled with locks... practice locks.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "KneelUp",
                                                                    "wait": true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "b83ccf4f-c76c-43f1-97ea-21fc9c387b86",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "The chest is locked.",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "expression": null,
                                            "ignoreChildAvailability": true,
                                            "minutes": "1",
                                            "ExitMenu": false
                                        },
                                        {
                                            "type": "options.text",
                                            "id": "4c8445a5-b15b-4a0f-aa9a-bf4d1af869b5",
                                            "text": "Sense Magic on the Chest",
                                            "nodes": [
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "631507b5-f87b-4779-a180-8495bfa52525",
                                                    "scriptId": "533e1ce1-13d3-439f-8544-dbdf808d30c4",
                                                    "entryPointId": "021aba91-4142-4bdb-9bcb-ea8ad1b264ae",
                                                    "currentScope": "Scenes",
                                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                },
                                                {
                                                    "id": "812fbc38-4e72-4a0f-8478-dc9ee6e8177c",
                                                    "type": "nodes.skillBranch",
                                                    "skill": "Magic",
                                                    "target": "1",
                                                    "success": {
                                                        "type": "nodes.block",
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "c3e90e64-6d5a-44f7-a14b-fb67c97744bb",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "It's not magical, at least. That narrows things down a bit.",
                                                                "emotion": "0",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            }
                                                        ]
                                                    },
                                                    "failure": {
                                                        "type": "nodes.block",
                                                        "nodes": [
                                                            {
                                                                "type": "nodes.speak",
                                                                "id": "4c312d95-96f8-4aea-bfd0-6e0c65c6291f",
                                                                "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                "actorId2": null,
                                                                "text": "There's nothing magical about this chest. I doubt there ever has been.",
                                                                "emotion": "0",
                                                                "emotion2": "0",
                                                                "device": "0",
                                                                "device2": "0"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "actor",
                                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                "scopeFilterId": null,
                                                "tags": "SenseMagic",
                                                "has": true
                                            },
                                            "ignoreChildAvailability": true,
                                            "minutes": "2",
                                            "ExitMenu": false
                                        }
                                    ],
                                    "AutoAddDone": true,
                                    "Unique": false
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}