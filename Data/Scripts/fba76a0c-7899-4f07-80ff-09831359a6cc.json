{
    "type": "script",
    "id": "fba76a0c-7899-4f07-80ff-09831359a6cc",
    "name": "Interact with Candelabra",
    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
    "propId": "b9377f63-666e-491f-9a08-276b7b73a576",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "5d914647-d293-4b42-9d94-ea018f74adfe",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "bb9613a6-8c5a-4c90-8a14-e8f5f6985290",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "74dbdb7a-270e-4243-bcc5-ad328b873c17",
                            "text": "Examine the Candelabrum",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "target",
                                                "scopeId": null,
                                                "scopeFilterId": null,
                                                "tags": "OpenPassage",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "cd84998c-6e97-46a5-8523-9378e65ac3f9",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "This looks like a standard candelabra... er... candelabrum, only a little shinier than most. Someone must have polished it recently.",
                                                    "emotion": "0",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "1839805a-4d7d-48a7-beb4-489dfed77957",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "text": "I happen to know that this candelabrum hides a deep, dark secret.",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "97a75b70-584f-4845-9e57-fa4412a036bd",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "text": "And I <i>do</i> mean <i>dark!</i>",
                                                    "emotion": "1",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "2fa102f1-4af1-46bb-afe0-4fbd0870a4c5",
                            "text": "Move the Candelabrum",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.inTags",
                                                "scope": "prop",
                                                "scopeId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                "scopeFilterId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                "tags": "firsttime",
                                                "has": false
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "ReachOut",
                                                    "wait": false
                                                },
                                                {
                                                    "type": "nodes.wait",
                                                    "waitForSeconds": "0.2"
                                                },
                                                {
                                                    "type": "nodes.speak",
                                                    "id": "0885521f-ee70-4f13-ac10-1f4ce748cc03",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "actorId2": null,
                                                    "text": "Hmmm... I can rotate it slightly, but then it gets stuck. There seems to be a catch...",
                                                    "emotion": "4",
                                                    "emotion2": "0",
                                                    "device": "0",
                                                    "device2": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.branch",
                                                    "sections": [
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "target",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "OpenPassage",
                                                                "has": false
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "53752a7b-5a3f-45f3-96d5-8ca69900ff05",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "OpenPassage",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "ee2c3608-8c95-4d2e-ac5b-371d709ff5a9",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Let's see if turning this candelabrum will open the passage...",
                                                                    "emotion": "0",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "ReachOut",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "mechanical_clank.wav",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "hidden_wall_open.wav",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.changePropVisibility",
                                                                    "id": "35840a3c-bae7-4346-a502-34ea8b69d7d7",
                                                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                                    "status": "Opening",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "3d1f20ca-432e-4c2d-96a8-c0dab4355381",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "Ha! That did it!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.moveActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64e6c09e-d5e5-4b09-903e-98c8dd80a772",
                                                                    "movement": "Walking",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.turnActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64eeb75c-f9ab-4027-9932-d2109e4ac831",
                                                                    "scope": "prop",
                                                                    "targetActorId": null
                                                                },
                                                                {
                                                                    "type": "nodes.changeScene",
                                                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                                                    "spawnId": "04dac3a5-01e2-482e-8529-bb436415cf75",
                                                                    "fadeTime": 2
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": {
                                                                "type": "expressions.inTags",
                                                                "scope": "target",
                                                                "scopeId": null,
                                                                "scopeFilterId": null,
                                                                "tags": "secondtime",
                                                                "has": false
                                                            },
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.changeTags",
                                                                    "id": "a654269f-8a9e-4135-a34c-460b3c644d0a",
                                                                    "scope": "target",
                                                                    "scopeId": null,
                                                                    "scopeFilterId": null,
                                                                    "tagsToAdd": "secondtime",
                                                                    "tagsToRemove": null
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "9ec11b79-4c8f-440f-a516-22da35905f84",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "A little twist of this Candelabrum...",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "ReachOut",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "mechanical_clank.wav",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "hidden_wall_open.wav",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.changePropVisibility",
                                                                    "id": "3adb8b38-6880-44ca-bd06-59b11fd038ff",
                                                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                                    "status": "Opening",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.speak",
                                                                    "id": "542ca2ad-1038-4eea-8135-326e16b28af2",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "actorId2": null,
                                                                    "text": "And voila - Instant Secret Door!",
                                                                    "emotion": "1",
                                                                    "emotion2": "0",
                                                                    "device": "0",
                                                                    "device2": "0"
                                                                },
                                                                {
                                                                    "type": "nodes.moveActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64e6c09e-d5e5-4b09-903e-98c8dd80a772",
                                                                    "movement": "Walking",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.turnActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64eeb75c-f9ab-4027-9932-d2109e4ac831",
                                                                    "scope": "prop",
                                                                    "targetActorId": null
                                                                },
                                                                {
                                                                    "type": "nodes.changeScene",
                                                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                                                    "spawnId": "04dac3a5-01e2-482e-8529-bb436415cf75",
                                                                    "fadeTime": 2
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "nodes.branchSection",
                                                            "expression": null,
                                                            "nodes": [
                                                                {
                                                                    "type": "nodes.playAnimation",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "animationName": "ReachOut",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "mechanical_clank.wav",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.playSoundEffect",
                                                                    "soundEffectName": "hidden_wall_open.wav",
                                                                    "wait": false
                                                                },
                                                                {
                                                                    "type": "nodes.changePropVisibility",
                                                                    "id": "99828648-2606-4a8a-b4f2-7daf3a7fed63",
                                                                    "propId": "f8935396-e5f6-46ff-9e5c-7f29ba69e431",
                                                                    "sceneId": "82da26e2-b64a-4951-bca9-a3e78101825e",
                                                                    "status": "Opening",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.moveActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64e6c09e-d5e5-4b09-903e-98c8dd80a772",
                                                                    "movement": "Walking",
                                                                    "wait": true
                                                                },
                                                                {
                                                                    "type": "nodes.turnActor",
                                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                                    "propId": "64eeb75c-f9ab-4027-9932-d2109e4ac831",
                                                                    "scope": "prop",
                                                                    "targetActorId": null
                                                                },
                                                                {
                                                                    "type": "nodes.changeScene",
                                                                    "sceneId": "298ff758-e1ce-477a-b9d4-da614b74072d",
                                                                    "spawnId": "04dac3a5-01e2-482e-8529-bb436415cf75",
                                                                    "fadeTime": 2
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}