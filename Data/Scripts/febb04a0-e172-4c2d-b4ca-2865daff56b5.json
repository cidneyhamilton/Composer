{
    "type": "script",
    "id": "febb04a0-e172-4c2d-b4ca-2865daff56b5",
    "name": "Interact with Door to Puzzle Room",
    "sceneId": "cdb9df0a-6a03-4c30-9a33-f2716474ec20",
    "propId": "f59420ae-3b70-4b39-9918-9d6c5dc64b8c",
    "actorId": null,
    "trigger": {
        "type": "triggers.interact",
        "name": "Interact"
    },
    "entryPoints": [
        {
            "type": "scripts.entryPoint",
            "id": "4c474ba3-d707-421f-b31e-b00514b4d32c",
            "name": "Main",
            "nodes": [
                {
                    "type": "nodes.showMenu",
                    "id": "4cc84a46-ebcd-43a2-b1f5-64741cdad344",
                    "options": [
                        {
                            "type": "options.text",
                            "id": "63a88a1e-1d07-47c4-8d4a-5e70f05ebaa2",
                            "text": "Examine Door",
                            "nodes": [
                                {
                                    "type": "nodes.speak",
                                    "id": "3b0f071d-8773-4b6a-9058-616c386cf96d",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "Okay, big heavy door... No obvious handle or latch... doesn't want to budge... and no keyhole. There's got to be some other way to open it.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "e74775d9-0fa5-4f7d-9d52-7e58cf52c4d6",
                            "text": "Open Door (DEBUG)",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "b1023f94-2ce4-4aa5-bbe8-595601dbc61f",
                                    "scriptId": "a1004657-984b-46ba-8870-9550cbfb4b35",
                                    "entryPointId": "4c474ba3-d707-421f-b31e-b00514b4d32c",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.changeScene",
                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                    "spawnId": "1c307813-ba63-4bc8-ae01-22ef93ac6eab",
                                    "fadeTime": 2
                                }
                            ],
                            "expression": {
                                "type": "expressions.debugOnly"
                            },
                            "ignoreChildAvailability": true,
                            "minutes": 0,
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "585a1a8d-53a1-400f-9333-e8b19599c71c",
                            "text": "Open Door",
                            "nodes": [
                                {
                                    "type": "nodes.branch",
                                    "sections": [
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": {
                                                "type": "expressions.or",
                                                "left": {
                                                    "type": "expressions.inTags",
                                                    "scope": "scene",
                                                    "scopeId": "cdb9df0a-6a03-4c30-9a33-f2716474ec20",
                                                    "scopeFilterId": null,
                                                    "tags": "solved_lever_puzzle",
                                                    "has": true
                                                },
                                                "right": {
                                                    "type": "expressions.inTags",
                                                    "scope": "actor",
                                                    "scopeId": "3ec7237c-65ea-4a23-9e21-697f17a2dbe8",
                                                    "scopeFilterId": null,
                                                    "tags": "DratT&E",
                                                    "has": true
                                                }
                                            },
                                            "nodes": [
                                                {
                                                    "type": "nodes.invokeScript",
                                                    "id": "822f8cb9-3b03-4b4a-98d8-8a66a461f0e4",
                                                    "scriptId": "a1004657-984b-46ba-8870-9550cbfb4b35",
                                                    "entryPointId": "",
                                                    "currentScope": "Scenes",
                                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                                    "currentActorId": null,
                                                    "currentStoryEventId": null,
                                                    "currentPropId": null
                                                },
                                                {
                                                    "type": "nodes.onceOnly",
                                                    "id": "e36c0741-7a6e-4413-a49f-89c3b1eb7ac2",
                                                    "nodes": [
                                                        {
                                                            "type": "nodes.speak",
                                                            "id": "77851675-517c-4978-939b-f301d7f8d67c",
                                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                            "actorId2": null,
                                                            "text": "Hey, it opens now!",
                                                            "emotion": "0",
                                                            "emotion2": "0",
                                                            "device": "0",
                                                            "device2": "0"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "nodes.changeScene",
                                                    "sceneId": "33429d4f-b979-449b-bbde-8d8211ab2285",
                                                    "spawnId": "1c307813-ba63-4bc8-ae01-22ef93ac6eab",
                                                    "fadeTime": "0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "nodes.branchSection",
                                            "expression": null,
                                            "nodes": [
                                                {
                                                    "type": "nodes.playAnimation",
                                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                    "animationName": "ReachOut"
                                                },
                                                {
                                                    "type": "nodes.wait",
                                                    "waitForSeconds": "0.2"
                                                },
                                                {
                                                    "type": "nodes.playSoundEffect",
                                                    "soundEffectName": "Pull Door Knob - Door Locked.wav",
                                                    "wait": false
                                                },
                                                {
                                                    "type": "nodes.nodeCycle",
                                                    "id": "489b3789-68f8-43b8-aa2c-668beb0f4600",
                                                    "nodes": [
                                                        {
                                                            "type": "nodes.speak",
                                                            "id": "7c1a91b1-8222-48a2-b5e3-6f53b5e4c1e8",
                                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                            "actorId2": null,
                                                            "text": "Umph. Doesn't even wiggle. They sure know how to build solid doors around here.",
                                                            "emotion": "0",
                                                            "emotion2": "0",
                                                            "device": "0",
                                                            "device2": "0"
                                                        },
                                                        {
                                                            "type": "nodes.speak",
                                                            "id": "77ab2ce1-ddf9-4912-a5f3-8a089096aaaa",
                                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                            "actorId2": null,
                                                            "text": "Nope, still won't move an inch.",
                                                            "emotion": "0",
                                                            "emotion2": "0",
                                                            "device": "0",
                                                            "device2": "0"
                                                        },
                                                        {
                                                            "type": "nodes.speak",
                                                            "id": "0f0b5678-f881-4efb-ba9f-c4b3ed88f0ef",
                                                            "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                                            "actorId2": null,
                                                            "text": "I need to figure out a way of opening this door if I want to explore more of this castle.",
                                                            "emotion": "0",
                                                            "emotion2": "0",
                                                            "device": "0",
                                                            "device2": "0"
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "10",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "cb770530-12a5-4193-8a9c-518a6bae74f0",
                            "text": "Listen at the Door",
                            "nodes": [
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelDown",
                                    "wait": true
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "f17d0c0c-c1bd-44e4-a7a3-ddce6a056bfd",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "If I listen really carefully, I swear I hear the sound of wind rushing and water running. There's definitely a room behind this door.",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                },
                                {
                                    "type": "nodes.playAnimation",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "animationName": "KneelUp",
                                    "wait": true
                                }
                            ],
                            "expression": null,
                            "ignoreChildAvailability": true,
                            "minutes": "3",
                            "ExitMenu": false
                        },
                        {
                            "type": "options.text",
                            "id": "4ca6f55c-226d-4553-bbd2-0356061a124f",
                            "text": "Sense Magic",
                            "nodes": [
                                {
                                    "type": "nodes.invokeScript",
                                    "id": "8bf0c498-465e-4113-ab91-34c34405947c",
                                    "scriptId": "b1c2ecc1-eb00-49ed-a7ba-ea6af625c355",
                                    "entryPointId": "4c474ba3-d707-421f-b31e-b00514b4d32c",
                                    "currentScope": "Scenes",
                                    "currentSceneId": "5f4c53b2-540d-4627-af71-7ede35c6d84b",
                                    "currentActorId": null,
                                    "currentStoryEventId": null,
                                    "currentPropId": null
                                },
                                {
                                    "type": "nodes.speak",
                                    "id": "4de05273-b4ea-4a42-b1ec-cc662acab122",
                                    "actorId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                    "actorId2": null,
                                    "text": "There's a magical field barring this door - and it's connected to the patterns on the wall beside it. I'm also feeling like there's some sort of powerful magic on the other side of this door. Interesting. ",
                                    "emotion": "0",
                                    "emotion2": "0",
                                    "device": "0",
                                    "device2": "0"
                                }
                            ],
                            "expression": {
                                "type": "expressions.inTags",
                                "scope": "actor",
                                "scopeId": "30ee2636-15e3-452e-a2db-09cbb9012970",
                                "scopeFilterId": null,
                                "tags": "SenseMagic",
                                "has": true
                            },
                            "ignoreChildAvailability": true,
                            "minutes": "5",
                            "ExitMenu": false
                        }
                    ],
                    "AutoAddDone": true,
                    "Unique": false
                }
            ]
        }
    ]
}